{"remainingRequest":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js!D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Project\\spiderPlatform\\spider_platform\\src\\components\\checkbox\\ImgCheckbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Project\\spiderPlatform\\spider_platform\\src\\components\\checkbox\\ImgCheckbox.vue","mtime":1646988546802},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1646988157969},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1646988174758}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBHcm91cCA9IHsKICBuYW1lOiAnSW1nQ2hlY2tib3hHcm91cCcsCiAgcHJvcHM6IHsKICAgIG11bHRpcGxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBkZWZhdWx0VmFsdWVzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbHVlczogW10sCiAgICAgIG9wdGlvbnM6IFtdCiAgICB9OwogIH0sCiAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHsKICAgIHJldHVybiB7CiAgICAgIGdyb3VwQ29udGV4dDogdGhpcwogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAndmFsdWVzJzogZnVuY3Rpb24gdmFsdWVzKHZhbHVlKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHZhbHVlKTsgLy8gLy8g5q2k5p2h5Lu25piv5Li66Kej5Yaz5Y2V6YCJ5pe277yM6Kem5Y+R5Lik5qyhY2hhbmfkuovku7bpl67popgKICAgICAgLy8gaWYgKCEobmV3VmFsLmxlbmd0aCA9PT0gMSAmJiBvbGRWYWwubGVuZ3RoID09PSAxICYmIG5ld1ZhbFswXSA9PT0gb2xkVmFsWzBdKSkgewogICAgICAvLyAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMudmFsdWVzKQogICAgICAvLyB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShvcHRpb24pIHsKICAgICAgaWYgKCFvcHRpb24uY2hlY2tlZCkgewogICAgICAgIGlmICh0aGlzLnZhbHVlcy5pbmRleE9mKG9wdGlvbi52YWx1ZSkgPiAtMSkgewogICAgICAgICAgdGhpcy52YWx1ZXMgPSB0aGlzLnZhbHVlcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0gIT0gb3B0aW9uLnZhbHVlOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICghdGhpcy5tdWx0aXBsZSkgewogICAgICAgICAgdGhpcy52YWx1ZXMgPSBbb3B0aW9uLnZhbHVlXTsKICAgICAgICAgIHRoaXMub3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGlmIChpdGVtLnZhbHVlICE9IG9wdGlvbi52YWx1ZSkgewogICAgICAgICAgICAgIGl0ZW0uc0NoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudmFsdWVzLnB1c2gob3B0aW9uLnZhbHVlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgIGF0dHJzOiB7CiAgICAgICAgc3R5bGU6ICdkaXNwbGF5OiBmbGV4JwogICAgICB9CiAgICB9LCBbdGhpcy4kc2xvdHMuZGVmYXVsdF0pOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdJbWdDaGVja2JveCcsCiAgR3JvdXA6IEdyb3VwLAogIHByb3BzOiB7CiAgICBjaGVja2VkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBpbWc6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdGl0bGU6IFN0cmluZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNDaGVja2VkOiB0aGlzLmluaXRDaGVja2VkKCkKICAgIH07CiAgfSwKICBpbmplY3Q6IFsnZ3JvdXBDb250ZXh0J10sCiAgd2F0Y2g6IHsKICAgICdzQ2hlY2tlZCc6IGZ1bmN0aW9uIHNDaGVja2VkKCkgewogICAgICB2YXIgb3B0aW9uID0gewogICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLAogICAgICAgIGNoZWNrZWQ6IHRoaXMuc0NoZWNrZWQKICAgICAgfTsKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgb3B0aW9uKTsKICAgICAgdmFyIGdyb3VwQ29udGV4dCA9IHRoaXMuZ3JvdXBDb250ZXh0OwoKICAgICAgaWYgKGdyb3VwQ29udGV4dCkgewogICAgICAgIGdyb3VwQ29udGV4dC5oYW5kbGVDaGFuZ2Uob3B0aW9uKTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBncm91cENvbnRleHQgPSB0aGlzLmdyb3VwQ29udGV4dDsKCiAgICBpZiAoZ3JvdXBDb250ZXh0KSB7CiAgICAgIHRoaXMuc0NoZWNrZWQgPSBncm91cENvbnRleHQuZGVmYXVsdFZhbHVlcy5sZW5ndGggPiAwID8gZ3JvdXBDb250ZXh0LmRlZmF1bHRWYWx1ZXMuaW5kZXhPZih0aGlzLnZhbHVlKSA+PSAwIDogdGhpcy5zQ2hlY2tlZDsKICAgICAgZ3JvdXBDb250ZXh0Lm9wdGlvbnMucHVzaCh0aGlzKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKCkgewogICAgICBpZiAodGhpcy5ncm91cENvbnRleHQubXVsdGlwbGUgfHwgIXRoaXMuc0NoZWNrZWQpIHsKICAgICAgICB0aGlzLnNDaGVja2VkID0gIXRoaXMuc0NoZWNrZWQ7CiAgICAgIH0KICAgIH0sCiAgICBpbml0Q2hlY2tlZDogZnVuY3Rpb24gaW5pdENoZWNrZWQoKSB7CiAgICAgIHZhciBncm91cENvbnRleHQgPSB0aGlzLmdyb3VwQ29udGV4dDsKCiAgICAgIGlmICghZ3JvdXBDb250ZXh0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tlZDsKICAgICAgfSBlbHNlIGlmIChncm91cENvbnRleHQubXVsdGlwbGUpIHsKICAgICAgICByZXR1cm4gZ3JvdXBDb250ZXh0LmRlZmF1bHRWYWx1ZXMuaW5kZXhPZih0aGlzLnZhbHVlKSA+IC0xOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBncm91cENvbnRleHQuZGVmYXVsdFZhbHVlc1swXSA9PSB0aGlzLnZhbHVlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ImgCheckbox.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <a-tooltip :title=\"title\" :overlayStyle=\"{zIndex: 2001}\">\r\n    <div class=\"img-check-box\" @click=\"toggle\">\r\n      <img :src=\"img\" />\r\n      <div v-if=\"sChecked\" class=\"check-item\">\r\n        <a-icon type=\"check\" />\r\n      </div>\r\n    </div>\r\n  </a-tooltip>\r\n</template>\r\n\r\n<script>\r\nconst Group = {\r\n  name: 'ImgCheckboxGroup',\r\n  props: {\r\n    multiple: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false\r\n    },\r\n    defaultValues: {\r\n      type: Array,\r\n      required: false,\r\n      default: () => []\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      values: [],\r\n      options: []\r\n    }\r\n  },\r\n  provide () {\r\n    return {\r\n      groupContext: this\r\n    }\r\n  },\r\n  watch: {\r\n    'values': function (value) {\r\n      this.$emit('change', value)\r\n      // // 此条件是为解决单选时，触发两次chang事件问题\r\n      // if (!(newVal.length === 1 && oldVal.length === 1 && newVal[0] === oldVal[0])) {\r\n      //   this.$emit('change', this.values)\r\n      // }\r\n    }\r\n  },\r\n  methods: {\r\n    handleChange (option) {\r\n      if (!option.checked) {\r\n        if (this.values.indexOf(option.value) > -1) {\r\n          this.values = this.values.filter(item => item != option.value)\r\n        }\r\n      } else {\r\n        if (!this.multiple) {\r\n          this.values = [option.value]\r\n          this.options.forEach(item => {\r\n            if (item.value != option.value) {\r\n              item.sChecked = false\r\n            }\r\n          })\r\n        } else {\r\n          this.values.push(option.value)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  render (h) {\r\n    return h(\r\n      'div',\r\n      {\r\n        attrs: {style: 'display: flex'}\r\n      },\r\n      [this.$slots.default]\r\n    )\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'ImgCheckbox',\r\n  Group,\r\n  props: {\r\n    checked: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false\r\n    },\r\n    img: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    value: {\r\n      required: true\r\n    },\r\n    title: String\r\n  },\r\n  data () {\r\n    return {\r\n      sChecked: this.initChecked()\r\n    }\r\n  },\r\n  inject: ['groupContext'],\r\n  watch: {\r\n    'sChecked': function () {\r\n      const option = {\r\n        value: this.value,\r\n        checked: this.sChecked\r\n      }\r\n      this.$emit('change', option)\r\n      const groupContext = this.groupContext\r\n      if (groupContext) {\r\n        groupContext.handleChange(option)\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    const groupContext = this.groupContext\r\n    if (groupContext) {\r\n      this.sChecked = groupContext.defaultValues.length > 0 ? groupContext.defaultValues.indexOf(this.value) >= 0 : this.sChecked\r\n      groupContext.options.push(this)\r\n    }\r\n  },\r\n  methods: {\r\n    toggle () {\r\n      if (this.groupContext.multiple || !this.sChecked) {\r\n        this.sChecked = !this.sChecked\r\n      }\r\n    },\r\n    initChecked() {\r\n      let groupContext = this.groupContext\r\n      if (!groupContext) {\r\n        return this.checked\r\n      }else if (groupContext.multiple) {\r\n        return groupContext.defaultValues.indexOf(this.value) > -1\r\n      } else {\r\n        return groupContext.defaultValues[0] == this.value\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .img-check-box{\r\n    margin-right: 16px;\r\n    position: relative;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    .check-item{\r\n      position: absolute;\r\n      top: 0;\r\n      right: 0;\r\n      width: 100%;\r\n      padding-top: 15px;\r\n      padding-left: 24px;\r\n      height: 100%;\r\n      color: @primary-color;\r\n      font-size: 14px;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/components/checkbox"}]}