{"remainingRequest":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js!D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Project\\spiderPlatform\\spider_platform\\src\\layouts\\tabs\\TabsHead.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Project\\spiderPlatform\\spider_platform\\src\\layouts\\tabs\\TabsHead.vue","mtime":1646988546854},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1646988157969},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1646988174758}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovUHJvamVjdC9zcGlkZXJQbGF0Zm9ybS9zcGlkZXJfcGxhdGZvcm0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwTXV0YXRpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGdldEkxOG5LZXkgfSBmcm9tICdAL3V0aWxzL3JvdXRlclV0aWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RhYnNIZWFkJywKICBpMThuOiB7CiAgICBtZXNzYWdlczogewogICAgICBDTjogewogICAgICAgIGxvY2s6ICfngrnlh7vplIHlrprpobXnrb7lpLQnLAogICAgICAgIHVubG9jazogJ+eCueWHu+ino+mZpOmUgeWumicKICAgICAgfSwKICAgICAgSEs6IHsKICAgICAgICBsb2NrOiAn6bue5pOK6Y6W5a6a6aCB57C96aCtJywKICAgICAgICB1bmxvY2s6ICfpu57mk4rop6PpmaTpjpblrponCiAgICAgIH0sCiAgICAgIFVTOiB7CiAgICAgICAgbG9jazogJ2NsaWNrIHRvIGxvY2sgdGhlIHRhYnMgaGVhZCcsCiAgICAgICAgdW5sb2NrOiAnY2xpY2sgdG8gdW5sb2NrJwogICAgICB9CiAgICB9CiAgfSwKICBwcm9wczogewogICAgcGFnZUxpc3Q6IEFycmF5LAogICAgYWN0aXZlOiBTdHJpbmcsCiAgICBmaXhlZDogQm9vbGVhbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFmZml4ZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgaW5qZWN0OiBbJ2FkbWluTGF5b3V0J10sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuYWZmaXhlZCA9IHRoaXMuZml4ZWRUYWJzOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ3NldHRpbmcnLCBbJ2xheW91dCcsICdwYWdlV2lkdGgnLCAnZml4ZWRIZWFkZXInLCAnZml4ZWRUYWJzJywgJ2N1c3RvbVRpdGxlcyddKSksIHt9LCB7CiAgICBsb2NrVGl0bGU6IGZ1bmN0aW9uIGxvY2tUaXRsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHQodGhpcy5maXhlZFRhYnMgPyAndW5sb2NrJyA6ICdsb2NrJyk7CiAgICB9CiAgfSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBNdXRhdGlvbnMoJ3NldHRpbmcnLCBbJ3NldEZpeGVkVGFicyddKSksIHt9LCB7CiAgICBvbkxvY2tDbGljazogZnVuY3Rpb24gb25Mb2NrQ2xpY2soKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnNldEZpeGVkVGFicyghdGhpcy5maXhlZFRhYnMpOwoKICAgICAgaWYgKHRoaXMuZml4ZWRUYWJzKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5hZmZpeGVkID0gdHJ1ZTsKICAgICAgICB9LCAyMDApOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWZmaXhlZCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgb25UYWJDbGljazogZnVuY3Rpb24gb25UYWJDbGljayhrZXkpIHsKICAgICAgaWYgKHRoaXMuYWN0aXZlICE9PSBrZXkpIHsKICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCBrZXkpOwogICAgICB9CiAgICB9LAogICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZShrZXkpIHsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnLCBrZXkpOwogICAgfSwKICAgIG9uUmVmcmVzaDogZnVuY3Rpb24gb25SZWZyZXNoKHBhZ2UpIHsKICAgICAgdGhpcy4kZW1pdCgncmVmcmVzaCcsIHBhZ2UucGF0aCwgcGFnZSk7CiAgICB9LAogICAgb25Db250ZXh0bWVudTogZnVuY3Rpb24gb25Db250ZXh0bWVudShwYWdlS2V5LCBlKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NvbnRleHRtZW51JywgcGFnZUtleSwgZSk7CiAgICB9LAogICAgcGFnZU5hbWU6IGZ1bmN0aW9uIHBhZ2VOYW1lKHBhZ2UpIHsKICAgICAgdmFyIHBhZ2VQYXRoID0gcGFnZS5mdWxsUGF0aC5zcGxpdCgnPycpWzBdOwogICAgICB2YXIgY3VzdG9tID0gdGhpcy5jdXN0b21UaXRsZXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnBhdGggPT09IHBhZ2VQYXRoOwogICAgICB9KTsKICAgICAgcmV0dXJuIGN1c3RvbSAmJiBjdXN0b20udGl0bGUgfHwgcGFnZS50aXRsZSB8fCB0aGlzLiR0KGdldEkxOG5LZXkocGFnZS5rZXlQYXRoKSk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["TabsHead.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,SAAA,QAAA,EAAA,YAAA,QAAA,MAAA;AACA,SAAA,UAAA,QAAA,oBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,EAAA,EAAA;AACA,QAAA,IAAA,EAAA,SADA;AAEA,QAAA,MAAA,EAAA;AAFA,OADA;AAKA,MAAA,EAAA,EAAA;AACA,QAAA,IAAA,EAAA,SADA;AAEA,QAAA,MAAA,EAAA;AAFA,OALA;AASA,MAAA,EAAA,EAAA;AACA,QAAA,IAAA,EAAA,6BADA;AAEA,QAAA,MAAA,EAAA;AAFA;AATA;AADA,GAFA;AAkBA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA,KADA;AAEA,IAAA,MAAA,EAAA,MAFA;AAGA,IAAA,KAAA,EAAA;AAHA,GAlBA;AAuBA,EAAA,IAvBA,kBAuBA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AADA,KAAA;AAGA,GA3BA;AA4BA,EAAA,MAAA,EAAA,CAAA,aAAA,CA5BA;AA6BA,EAAA,OA7BA,qBA6BA;AACA,SAAA,OAAA,GAAA,KAAA,SAAA;AACA,GA/BA;AAgCA,EAAA,QAAA,kCACA,QAAA,CAAA,SAAA,EAAA,CAAA,QAAA,EAAA,WAAA,EAAA,aAAA,EAAA,WAAA,EAAA,cAAA,CAAA,CADA;AAEA,IAAA,SAFA,uBAEA;AACA,aAAA,KAAA,EAAA,CAAA,KAAA,SAAA,GAAA,QAAA,GAAA,MAAA,CAAA;AACA;AAJA,IAhCA;AAsCA,EAAA,OAAA,kCACA,YAAA,CAAA,SAAA,EAAA,CAAA,cAAA,CAAA,CADA;AAEA,IAAA,WAFA,yBAEA;AAAA;;AACA,WAAA,YAAA,CAAA,CAAA,KAAA,SAAA;;AACA,UAAA,KAAA,SAAA,EAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AACA,SAFA,EAEA,GAFA,CAAA;AAGA,OAJA,MAIA;AACA,aAAA,OAAA,GAAA,KAAA;AACA;AACA,KAXA;AAYA,IAAA,UAZA,sBAYA,GAZA,EAYA;AACA,UAAA,KAAA,MAAA,KAAA,GAAA,EAAA;AACA,aAAA,KAAA,CAAA,QAAA,EAAA,GAAA;AACA;AACA,KAhBA;AAiBA,IAAA,OAjBA,mBAiBA,GAjBA,EAiBA;AACA,WAAA,KAAA,CAAA,OAAA,EAAA,GAAA;AACA,KAnBA;AAoBA,IAAA,SApBA,qBAoBA,IApBA,EAoBA;AACA,WAAA,KAAA,CAAA,SAAA,EAAA,IAAA,CAAA,IAAA,EAAA,IAAA;AACA,KAtBA;AAuBA,IAAA,aAvBA,yBAuBA,OAvBA,EAuBA,CAvBA,EAuBA;AACA,WAAA,KAAA,CAAA,aAAA,EAAA,OAAA,EAAA,CAAA;AACA,KAzBA;AA0BA,IAAA,QA1BA,oBA0BA,IA1BA,EA0BA;AACA,UAAA,QAAA,GAAA,IAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,UAAA,MAAA,GAAA,KAAA,YAAA,CAAA,IAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,IAAA,KAAA,QAAA;AAAA,OAAA,CAAA;AACA,aAAA,MAAA,IAAA,MAAA,CAAA,KAAA,IAAA,IAAA,CAAA,KAAA,IAAA,KAAA,EAAA,CAAA,UAAA,CAAA,IAAA,CAAA,OAAA,CAAA,CAAA;AACA;AA9BA;AAtCA,CAAA","sourcesContent":["<template>\r\n  <div :class=\"['tabs-head', layout, pageWidth]\">\r\n    <a-tabs\r\n        type=\"editable-card\"\r\n        :class=\"['tabs-container', layout, pageWidth, {'affixed' : affixed, 'fixed-header' : fixedHeader, 'collapsed' : adminLayout.collapsed}]\"\r\n        :active-key=\"active\"\r\n        :hide-add=\"true\"\r\n    >\r\n      <a-tooltip placement=\"left\" :title=\"lockTitle\" slot=\"tabBarExtraContent\">\r\n        <a-icon\r\n            theme=\"filled\"\r\n            @click=\"onLockClick\"\r\n            class=\"header-lock\"\r\n            :type=\"fixedTabs ? 'lock' : 'unlock'\"\r\n        />\r\n      </a-tooltip>\r\n      <a-tab-pane v-for=\"page in pageList\" :key=\"page.path\">\r\n        <div slot=\"tab\" class=\"tab\" @contextmenu=\"e => onContextmenu(page.path, e)\">\r\n          <a-icon @click=\"onRefresh(page)\" :class=\"['icon-sync', {'hide': page.path !== active && !page.loading}]\" :type=\"page.loading ? 'loading' : 'sync'\" />\r\n          <div class=\"title\" @click=\"onTabClick(page.path)\" >{{pageName(page)}}</div>\r\n          <a-icon v-if=\"!page.unclose\" @click=\"onClose(page.path)\" class=\"icon-close\" type=\"close\"/>\r\n        </div>\r\n      </a-tab-pane>\r\n    </a-tabs>\r\n    <div v-if=\"affixed\" class=\"virtual-tabs\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapState, mapMutations} from 'vuex'\r\n  import {getI18nKey} from '@/utils/routerUtil'\r\n\r\n  export default {\r\n    name: 'TabsHead',\r\n    i18n: {\r\n      messages: {\r\n        CN: {\r\n          lock: '点击锁定页签头',\r\n          unlock: '点击解除锁定',\r\n        },\r\n        HK: {\r\n          lock: '點擊鎖定頁簽頭',\r\n          unlock: '點擊解除鎖定',\r\n        },\r\n        US: {\r\n          lock: 'click to lock the tabs head',\r\n          unlock: 'click to unlock',\r\n        }\r\n      }\r\n    },\r\n    props: {\r\n      pageList: Array,\r\n      active: String,\r\n      fixed: Boolean\r\n    },\r\n    data() {\r\n      return {\r\n        affixed: false,\r\n      }\r\n    },\r\n    inject:['adminLayout'],\r\n    created() {\r\n      this.affixed = this.fixedTabs\r\n    },\r\n    computed: {\r\n      ...mapState('setting', ['layout', 'pageWidth', 'fixedHeader', 'fixedTabs', 'customTitles']),\r\n      lockTitle() {\r\n        return this.$t(this.fixedTabs ? 'unlock' : 'lock')\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations('setting', ['setFixedTabs']),\r\n      onLockClick() {\r\n        this.setFixedTabs(!this.fixedTabs)\r\n        if (this.fixedTabs) {\r\n          setTimeout(() => {\r\n            this.affixed = true\r\n          }, 200)\r\n        } else {\r\n          this.affixed = false\r\n        }\r\n      },\r\n      onTabClick(key) {\r\n        if (this.active !== key) {\r\n          this.$emit('change', key)\r\n        }\r\n      },\r\n      onClose(key) {\r\n        this.$emit('close', key)\r\n      },\r\n      onRefresh(page) {\r\n        this.$emit('refresh', page.path, page)\r\n      },\r\n      onContextmenu(pageKey, e) {\r\n        this.$emit('contextmenu', pageKey, e)\r\n      },\r\n      pageName(page) {\r\n        const pagePath = page.fullPath.split('?')[0]\r\n        const custom = this.customTitles.find(item => item.path === pagePath)\r\n        return (custom && custom.title) || page.title || this.$t(getI18nKey(page.keyPath))\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  .tab{\r\n    margin: 0 -16px;\r\n    padding: 0 16px;\r\n    font-size: 14px;\r\n    user-select: none;\r\n    transition: all 0.2s;\r\n    .title{\r\n      display: inline-block;\r\n      height: 100%;\r\n    }\r\n    .icon-close{\r\n      font-size: 12px;\r\n      margin-left: 6px;\r\n      margin-right: -4px !important;\r\n      color: @text-color-second;\r\n      &:hover{\r\n        color: @text-color;\r\n      }\r\n    }\r\n    .icon-sync{\r\n      margin-left: -4px;\r\n      color: @primary-4;\r\n      transition: all 0.3s ease-in-out;\r\n      &:hover{\r\n        color: @primary-color;\r\n      }\r\n      font-size: 14px;\r\n      &.hide{\r\n        font-size: 0;\r\n      }\r\n    }\r\n  }\r\n  .tabs-head{\r\n    margin: 0 auto;\r\n    &.head.fixed{\r\n      width: 1400px;\r\n    }\r\n  }\r\n  .tabs-container{\r\n    margin: -16px auto 8px;\r\n    transition: top,left 0.2s;\r\n    .header-lock{\r\n      font-size: 18px;\r\n      cursor: pointer;\r\n      color: @primary-3;\r\n      &:hover{\r\n        color: @primary-color;\r\n      }\r\n    }\r\n    &.affixed{\r\n      margin: 0 auto;\r\n      top: 0px;\r\n      padding: 8px 24px 0;\r\n      position: fixed;\r\n      height: 48px;\r\n      z-index: 1;\r\n      background-color: @layout-body-background;\r\n      &.side,&.mix{\r\n        right: 0;\r\n        left: 256px;\r\n        &.collapsed{\r\n          left: 80px;\r\n        }\r\n      }\r\n      &.head{\r\n        width: inherit;\r\n        padding: 8px 0 0;\r\n        &.fluid{\r\n          left: 0;\r\n          right: 0;\r\n          padding: 8px 24px 0;\r\n        }\r\n      }\r\n      &.fixed-header{\r\n        top: 64px;\r\n      }\r\n    }\r\n  }\r\n  .virtual-tabs{\r\n    height: 48px;\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/layouts/tabs"}]}