{"remainingRequest":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js!D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Project\\spiderPlatform\\spider_platform\\src\\utils\\routerUtil.js","dependencies":[{"path":"D:\\Project\\spiderPlatform\\spider_platform\\src\\utils\\routerUtil.js","mtime":1646988546901},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1646988158074},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1646988157969},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\eslint-loader\\index.js","mtime":1646988172536}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5saW5rIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiRDovUHJvamVjdC9zcGlkZXJQbGF0Zm9ybS9zcGlkZXJfcGxhdGZvcm0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovUHJvamVjdC9zcGlkZXJQbGF0Zm9ybS9zcGlkZXJfcGxhdGZvcm0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX3R5cGVvZiBmcm9tICJEOi9Qcm9qZWN0L3NwaWRlclBsYXRmb3JtL3NwaWRlcl9wbGF0Zm9ybS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IHJvdXRlck1hcCBmcm9tICdAL3JvdXRlci9hc3luYy9yb3V0ZXIubWFwJzsKaW1wb3J0IHsgbWVyZ2VJMThuRnJvbVJvdXRlcyB9IGZyb20gJ0AvdXRpbHMvaTE4bic7CmltcG9ydCBSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBkZWVwTWVyZ2UgZnJvbSAnZGVlcG1lcmdlJzsKaW1wb3J0IGJhc2ljT3B0aW9ucyBmcm9tICdAL3JvdXRlci9hc3luYy9jb25maWcuYXN5bmMnOyAvL+W6lOeUqOmFjee9rgoKdmFyIGFwcE9wdGlvbnMgPSB7CiAgcm91dGVyOiB1bmRlZmluZWQsCiAgaTE4bjogdW5kZWZpbmVkLAogIHN0b3JlOiB1bmRlZmluZWQKfTsKLyoqDQogKiDorr7nva7lupTnlKjphY3nva4NCiAqIEBwYXJhbSBvcHRpb25zDQogKi8KCmZ1bmN0aW9uIHNldEFwcE9wdGlvbnMob3B0aW9ucykgewogIHZhciByb3V0ZXIgPSBvcHRpb25zLnJvdXRlciwKICAgICAgc3RvcmUgPSBvcHRpb25zLnN0b3JlLAogICAgICBpMThuID0gb3B0aW9ucy5pMThuOwogIGFwcE9wdGlvbnMucm91dGVyID0gcm91dGVyOwogIGFwcE9wdGlvbnMuc3RvcmUgPSBzdG9yZTsKICBhcHBPcHRpb25zLmkxOG4gPSBpMThuOwp9Ci8qKg0KICog5qC55o2uIOi3r+eUsemFjee9riDlkowg6Lev55Sx57uE5Lu25rOo5YaMIOino+aekOi3r+eUsQ0KICogQHBhcmFtIHJvdXRlc0NvbmZpZyDot6/nlLHphY3nva4NCiAqIEBwYXJhbSByb3V0ZXJNYXAg5pys5Zyw6Lev55Sx57uE5Lu25rOo5YaM6YWN572uDQogKi8KCgpmdW5jdGlvbiBwYXJzZVJvdXRlcyhyb3V0ZXNDb25maWcsIHJvdXRlck1hcCkgewogIHZhciByb3V0ZXMgPSBbXTsKICByb3V0ZXNDb25maWcuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgLy8g6I635Y+W5rOo5YaM5ZyoIHJvdXRlck1hcCDkuK3nmoQgcm91dGVy77yM5Yid5aeL5YyWIHJvdXRlQ2ZnCiAgICB2YXIgcm91dGVyID0gdW5kZWZpbmVkLAogICAgICAgIHJvdXRlQ2ZnID0ge307CgogICAgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykgewogICAgICByb3V0ZXIgPSByb3V0ZXJNYXBbaXRlbV07CiAgICAgIHJvdXRlQ2ZnID0gewogICAgICAgIHBhdGg6IHJvdXRlciAmJiByb3V0ZXIucGF0aCB8fCBpdGVtLAogICAgICAgIHJvdXRlcjogaXRlbQogICAgICB9OwogICAgfSBlbHNlIGlmIChfdHlwZW9mKGl0ZW0pID09PSAnb2JqZWN0JykgewogICAgICByb3V0ZXIgPSByb3V0ZXJNYXBbaXRlbS5yb3V0ZXJdOwogICAgICByb3V0ZUNmZyA9IGl0ZW07CiAgICB9CgogICAgaWYgKCFyb3V0ZXIpIHsKICAgICAgcm91dGVyID0gdHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnID8gewogICAgICAgIHBhdGg6IGl0ZW0sCiAgICAgICAgbmFtZTogaXRlbQogICAgICB9IDogaXRlbTsKICAgIH0gLy8g5LuOIHJvdXRlciDlkowgcm91dGVDZmcg6Kej5p6Q6Lev55SxCgoKICAgIHZhciBtZXRhID0gX29iamVjdFNwcmVhZCh7CiAgICAgIGF1dGhvcml0eTogcm91dGVyLmF1dGhvcml0eSwKICAgICAgaWNvbjogcm91dGVyLmljb24sCiAgICAgIHBhZ2U6IHJvdXRlci5wYWdlLAogICAgICBsaW5rOiByb3V0ZXIubGluaywKICAgICAgcGFyYW1zOiByb3V0ZXIucGFyYW1zLAogICAgICBxdWVyeTogcm91dGVyLnF1ZXJ5CiAgICB9LCByb3V0ZXIubWV0YSk7CgogICAgdmFyIGNmZ01ldGEgPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgYXV0aG9yaXR5OiByb3V0ZUNmZy5hdXRob3JpdHksCiAgICAgIGljb246IHJvdXRlQ2ZnLmljb24sCiAgICAgIHBhZ2U6IHJvdXRlQ2ZnLnBhZ2UsCiAgICAgIGxpbms6IHJvdXRlQ2ZnLmxpbmssCiAgICAgIHBhcmFtczogcm91dGVDZmcucGFyYW1zLAogICAgICBxdWVyeTogcm91dGVDZmcucXVlcnkKICAgIH0sIHJvdXRlQ2ZnLm1ldGEpOwoKICAgIE9iamVjdC5rZXlzKGNmZ01ldGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICBpZiAoY2ZnTWV0YVtrZXldID09PSB1bmRlZmluZWQgfHwgY2ZnTWV0YVtrZXldID09PSBudWxsIHx8IGNmZ01ldGFba2V5XSA9PT0gJycpIHsKICAgICAgICBkZWxldGUgY2ZnTWV0YVtrZXldOwogICAgICB9CiAgICB9KTsKICAgIE9iamVjdC5hc3NpZ24obWV0YSwgY2ZnTWV0YSk7CiAgICB2YXIgcm91dGUgPSB7CiAgICAgIHBhdGg6IHJvdXRlQ2ZnLnBhdGggfHwgcm91dGVyLnBhdGggfHwgcm91dGVDZmcucm91dGVyLAogICAgICBuYW1lOiByb3V0ZUNmZy5uYW1lIHx8IHJvdXRlci5uYW1lLAogICAgICBjb21wb25lbnQ6IHJvdXRlci5jb21wb25lbnQsCiAgICAgIHJlZGlyZWN0OiByb3V0ZUNmZy5yZWRpcmVjdCB8fCByb3V0ZXIucmVkaXJlY3QsCiAgICAgIG1ldGE6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWV0YSksIHt9LCB7CiAgICAgICAgYXV0aG9yaXR5OiBtZXRhLmF1dGhvcml0eSB8fCAnKicKICAgICAgfSkKICAgIH07CgogICAgaWYgKHJvdXRlQ2ZnLmludmlzaWJsZSB8fCByb3V0ZXIuaW52aXNpYmxlKSB7CiAgICAgIHJvdXRlLm1ldGEuaW52aXNpYmxlID0gdHJ1ZTsKICAgIH0KCiAgICBpZiAocm91dGVDZmcuY2hpbGRyZW4gJiYgcm91dGVDZmcuY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICByb3V0ZS5jaGlsZHJlbiA9IHBhcnNlUm91dGVzKHJvdXRlQ2ZnLmNoaWxkcmVuLCByb3V0ZXJNYXApOwogICAgfQoKICAgIHJvdXRlcy5wdXNoKHJvdXRlKTsKICB9KTsKICByZXR1cm4gcm91dGVzOwp9Ci8qKg0KICog5Yqg6L296Lev55SxDQogKiBAcGFyYW0gcm91dGVzQ29uZmlnIHtSb3V0ZUNvbmZpZ1tdfSDot6/nlLHphY3nva4NCiAqLwoKCmZ1bmN0aW9uIGxvYWRSb3V0ZXMocm91dGVzQ29uZmlnKSB7CiAgLy/lhbzlrrkgMC42LjEg5Lul5LiL54mI5pysCgogIC8qKioqKioqKioqKioqKiog5YW85a65IHZlcnNpb24gPCB2MC42LjEgKioqKioqKioqKioqKioqKiovCiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7CiAgICB2YXIgYXJnMCA9IGFyZ3VtZW50c1swXTsKCiAgICBpZiAoYXJnMC5yb3V0ZXIgfHwgYXJnMC5pMThuIHx8IGFyZzAuc3RvcmUpIHsKICAgICAgcm91dGVzQ29uZmlnID0gYXJndW1lbnRzWzFdOwogICAgfQogIH0KICAvKioqKioqKioqKioqKioqIOWFvOWuuSB2ZXJzaW9uIDwgdjAuNi4xICoqKioqKioqKioqKioqKioqLwogIC8vIOW6lOeUqOmFjee9rgoKCiAgdmFyIHJvdXRlciA9IGFwcE9wdGlvbnMucm91dGVyLAogICAgICBzdG9yZSA9IGFwcE9wdGlvbnMuc3RvcmUsCiAgICAgIGkxOG4gPSBhcHBPcHRpb25zLmkxOG47IC8vIOWmguaenCByb3V0ZXNDb25maWcg5pyJ5YC877yM5YiZ5pu05paw5Yiw5pys5Zyw77yM5ZCm5YiZ5LuO5pys5Zyw6I635Y+WCgogIGlmIChyb3V0ZXNDb25maWcpIHsKICAgIHN0b3JlLmNvbW1pdCgnYWNjb3VudC9zZXRSb3V0ZXNDb25maWcnLCByb3V0ZXNDb25maWcpOwogIH0gZWxzZSB7CiAgICByb3V0ZXNDb25maWcgPSBzdG9yZS5nZXR0ZXJzWydhY2NvdW50L3JvdXRlc0NvbmZpZyddOwogIH0gLy8g5aaC5p6c5byA5ZCv5LqG5byC5q2l6Lev55Sx77yM5YiZ5Yqg6L295byC5q2l6Lev55Sx6YWN572uCgoKICB2YXIgYXN5bmNSb3V0ZXMgPSBzdG9yZS5zdGF0ZS5zZXR0aW5nLmFzeW5jUm91dGVzOwoKICBpZiAoYXN5bmNSb3V0ZXMpIHsKICAgIGlmIChyb3V0ZXNDb25maWcgJiYgcm91dGVzQ29uZmlnLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIHJvdXRlcyA9IHBhcnNlUm91dGVzKHJvdXRlc0NvbmZpZywgcm91dGVyTWFwKTsKICAgICAgdmFyIGZpbmFsUm91dGVzID0gbWVyZ2VSb3V0ZXMoYmFzaWNPcHRpb25zLnJvdXRlcywgcm91dGVzKTsKICAgICAgZm9ybWF0Um91dGVzKGZpbmFsUm91dGVzKTsKICAgICAgcm91dGVyLm9wdGlvbnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJvdXRlci5vcHRpb25zKSwge30sIHsKICAgICAgICByb3V0ZXM6IGZpbmFsUm91dGVzCiAgICAgIH0pOwogICAgICByb3V0ZXIubWF0Y2hlciA9IG5ldyBSb3V0ZXIoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByb3V0ZXIub3B0aW9ucyksIHt9LCB7CiAgICAgICAgcm91dGVzOiBbXQogICAgICB9KSkubWF0Y2hlcjsKICAgICAgcm91dGVyLmFkZFJvdXRlcyhmaW5hbFJvdXRlcyk7CiAgICB9CiAgfSAvLyDmj5Dlj5bot6/nlLHlm73pmYXljJbmlbDmja4KCgogIG1lcmdlSTE4bkZyb21Sb3V0ZXMoaTE4biwgcm91dGVyLm9wdGlvbnMucm91dGVzKTsgLy8g5Yid5aeL5YyWQWRtaW7lkI7lj7Doj5zljZXmlbDmja4KCiAgdmFyIHJvb3RSb3V0ZSA9IHJvdXRlci5vcHRpb25zLnJvdXRlcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gaXRlbS5wYXRoID09PSAnLyc7CiAgfSk7CiAgdmFyIG1lbnVSb3V0ZXMgPSByb290Um91dGUgJiYgcm9vdFJvdXRlLmNoaWxkcmVuOwoKICBpZiAobWVudVJvdXRlcykgewogICAgc3RvcmUuY29tbWl0KCdzZXR0aW5nL3NldE1lbnVEYXRhJywgbWVudVJvdXRlcyk7CiAgfQp9Ci8qKg0KICog5ZCI5bm26Lev55SxDQogKiBAcGFyYW0gdGFyZ2V0IHtSb3V0ZVtdfQ0KICogQHBhcmFtIHNvdXJjZSB7Um91dGVbXX0NCiAqIEByZXR1cm5zIHtSb3V0ZVtdfQ0KICovCgoKZnVuY3Rpb24gbWVyZ2VSb3V0ZXModGFyZ2V0LCBzb3VyY2UpIHsKICB2YXIgcm91dGVzTWFwID0ge307CiAgdGFyZ2V0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiByb3V0ZXNNYXBbaXRlbS5wYXRoXSA9IGl0ZW07CiAgfSk7CiAgc291cmNlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiByb3V0ZXNNYXBbaXRlbS5wYXRoXSA9IGl0ZW07CiAgfSk7CiAgcmV0dXJuIE9iamVjdC52YWx1ZXMocm91dGVzTWFwKTsKfQovKioNCiAqIOa3seW6puWQiOW5tui3r+eUsQ0KICogQHBhcmFtIHRhcmdldCB7Um91dGVbXX0NCiAqIEBwYXJhbSBzb3VyY2Uge1JvdXRlW119DQogKiBAcmV0dXJucyB7Um91dGVbXX0NCiAqLwoKCmZ1bmN0aW9uIGRlZXBNZXJnZVJvdXRlcyh0YXJnZXQsIHNvdXJjZSkgewogIC8vIOaYoOWwhOi3r+eUseaVsOe7hAogIHZhciBtYXBSb3V0ZXMgPSBmdW5jdGlvbiBtYXBSb3V0ZXMocm91dGVzKSB7CiAgICB2YXIgcm91dGVzTWFwID0ge307CiAgICByb3V0ZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICByb3V0ZXNNYXBbaXRlbS5wYXRoXSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgY2hpbGRyZW46IGl0ZW0uY2hpbGRyZW4gPyBtYXBSb3V0ZXMoaXRlbS5jaGlsZHJlbikgOiB1bmRlZmluZWQKICAgICAgfSk7CiAgICB9KTsKICAgIHJldHVybiByb3V0ZXNNYXA7CiAgfTsKCiAgdmFyIHRhck1hcCA9IG1hcFJvdXRlcyh0YXJnZXQpOwogIHZhciBzcmNNYXAgPSBtYXBSb3V0ZXMoc291cmNlKTsgLy8g5ZCI5bm26Lev55SxCgogIHZhciBtZXJnZSA9IGRlZXBNZXJnZSh0YXJNYXAsIHNyY01hcCk7IC8vIOi9rOaNouS4uiByb3V0ZXMg5pWw57uECgogIHZhciBwYXJzZVJvdXRlc01hcCA9IGZ1bmN0aW9uIHBhcnNlUm91dGVzTWFwKHJvdXRlc01hcCkgewogICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocm91dGVzTWFwKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4pIHsKICAgICAgICBpdGVtLmNoaWxkcmVuID0gcGFyc2VSb3V0ZXNNYXAoaXRlbS5jaGlsZHJlbik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVsZXRlIGl0ZW0uY2hpbGRyZW47CiAgICAgIH0KCiAgICAgIHJldHVybiBpdGVtOwogICAgfSk7CiAgfTsKCiAgcmV0dXJuIHBhcnNlUm91dGVzTWFwKG1lcmdlKTsKfQovKioNCiAqIOagvOW8j+WMlui3r+eUsQ0KICogQHBhcmFtIHJvdXRlcyDot6/nlLHphY3nva4NCiAqLwoKCmZ1bmN0aW9uIGZvcm1hdFJvdXRlcyhyb3V0ZXMpIHsKICByb3V0ZXMuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHsKICAgIHZhciBwYXRoID0gcm91dGUucGF0aDsKCiAgICBpZiAoIXBhdGguc3RhcnRzV2l0aCgnLycpICYmIHBhdGggIT09ICcqJykgewogICAgICByb3V0ZS5wYXRoID0gJy8nICsgcGF0aDsKICAgIH0KICB9KTsKICBmb3JtYXRBdXRob3JpdHkocm91dGVzKTsKfQovKioNCiAqIOagvOW8j+WMlui3r+eUseeahOadg+mZkOmFjee9rg0KICogQHBhcmFtIHJvdXRlcyDot6/nlLENCiAqIEBwYXJhbSBwQXV0aG9yaXRpZXMg54i257qn6Lev55Sx5p2D6ZmQ6YWN572u6ZuG5ZCIDQogKi8KCgpmdW5jdGlvbiBmb3JtYXRBdXRob3JpdHkocm91dGVzKSB7CiAgdmFyIHBBdXRob3JpdGllcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogW107CiAgcm91dGVzLmZvckVhY2goZnVuY3Rpb24gKHJvdXRlKSB7CiAgICB2YXIgbWV0YSA9IHJvdXRlLm1ldGE7CiAgICB2YXIgZGVmYXVsdEF1dGhvcml0eSA9IHBBdXRob3JpdGllc1twQXV0aG9yaXRpZXMubGVuZ3RoIC0gMV0gfHwgewogICAgICBwZXJtaXNzaW9uOiAnKicKICAgIH07CgogICAgaWYgKG1ldGEpIHsKICAgICAgdmFyIGF1dGhvcml0eSA9IHt9OwoKICAgICAgaWYgKCFtZXRhLmF1dGhvcml0eSkgewogICAgICAgIGF1dGhvcml0eSA9IGRlZmF1bHRBdXRob3JpdHk7CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1ldGEuYXV0aG9yaXR5ID09PSAnc3RyaW5nJykgewogICAgICAgIGF1dGhvcml0eS5wZXJtaXNzaW9uID0gbWV0YS5hdXRob3JpdHk7CiAgICAgIH0gZWxzZSBpZiAoX3R5cGVvZihtZXRhLmF1dGhvcml0eSkgPT09ICdvYmplY3QnKSB7CiAgICAgICAgYXV0aG9yaXR5ID0gbWV0YS5hdXRob3JpdHk7CiAgICAgICAgdmFyIF9hdXRob3JpdHkgPSBhdXRob3JpdHksCiAgICAgICAgICAgIHJvbGUgPSBfYXV0aG9yaXR5LnJvbGU7CgogICAgICAgIGlmICh0eXBlb2Ygcm9sZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIGF1dGhvcml0eS5yb2xlID0gW3JvbGVdOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFhdXRob3JpdHkucGVybWlzc2lvbiAmJiAhYXV0aG9yaXR5LnJvbGUpIHsKICAgICAgICAgIGF1dGhvcml0eSA9IGRlZmF1bHRBdXRob3JpdHk7CiAgICAgICAgfQogICAgICB9CgogICAgICBtZXRhLmF1dGhvcml0eSA9IGF1dGhvcml0eTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBfYXV0aG9yaXR5MiA9IGRlZmF1bHRBdXRob3JpdHk7CiAgICAgIHJvdXRlLm1ldGEgPSB7CiAgICAgICAgYXV0aG9yaXR5OiBfYXV0aG9yaXR5MgogICAgICB9OwogICAgfQoKICAgIHJvdXRlLm1ldGEucEF1dGhvcml0aWVzID0gcEF1dGhvcml0aWVzOwoKICAgIGlmIChyb3V0ZS5jaGlsZHJlbikgewogICAgICBmb3JtYXRBdXRob3JpdHkocm91dGUuY2hpbGRyZW4sIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocEF1dGhvcml0aWVzKSwgW3JvdXRlLm1ldGEuYXV0aG9yaXR5XSkpOwogICAgfQogIH0pOwp9Ci8qKg0KICog5LuO6Lev55SxIHBhdGgg6Kej5p6QIGkxOG4ga2V5DQogKiBAcGFyYW0gcGF0aA0KICogQHJldHVybnMgeyp9DQogKi8KCgpmdW5jdGlvbiBnZXRJMThuS2V5KHBhdGgpIHsKICB2YXIga2V5cyA9IHBhdGguc3BsaXQoJy8nKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiAhaXRlbS5zdGFydHNXaXRoKCc6JykgJiYgaXRlbSAhPSAnJzsKICB9KTsKICBrZXlzLnB1c2goJ25hbWUnKTsKICByZXR1cm4ga2V5cy5qb2luKCcuJyk7Cn0KLyoqDQogKiDliqDovb3lr7zoiKrlrojljasNCiAqIEBwYXJhbSBndWFyZHMNCiAqIEBwYXJhbSBvcHRpb25zDQogKi8KCgpmdW5jdGlvbiBsb2FkR3VhcmRzKGd1YXJkcywgb3B0aW9ucykgewogIHZhciBiZWZvcmVFYWNoID0gZ3VhcmRzLmJlZm9yZUVhY2gsCiAgICAgIGFmdGVyRWFjaCA9IGd1YXJkcy5hZnRlckVhY2g7CiAgdmFyIHJvdXRlciA9IG9wdGlvbnMucm91dGVyOwogIGJlZm9yZUVhY2guZm9yRWFjaChmdW5jdGlvbiAoZ3VhcmQpIHsKICAgIGlmIChndWFyZCAmJiB0eXBlb2YgZ3VhcmQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgICAgICAgcmV0dXJuIGd1YXJkKHRvLCBmcm9tLCBuZXh0LCBvcHRpb25zKTsKICAgICAgfSk7CiAgICB9CiAgfSk7CiAgYWZ0ZXJFYWNoLmZvckVhY2goZnVuY3Rpb24gKGd1YXJkKSB7CiAgICBpZiAoZ3VhcmQgJiYgdHlwZW9mIGd1YXJkID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHJvdXRlci5hZnRlckVhY2goZnVuY3Rpb24gKHRvLCBmcm9tKSB7CiAgICAgICAgcmV0dXJuIGd1YXJkKHRvLCBmcm9tLCBvcHRpb25zKTsKICAgICAgfSk7CiAgICB9CiAgfSk7Cn0KCmV4cG9ydCB7IHBhcnNlUm91dGVzLCBsb2FkUm91dGVzLCBmb3JtYXRBdXRob3JpdHksIGdldEkxOG5LZXksIGxvYWRHdWFyZHMsIGRlZXBNZXJnZVJvdXRlcywgZm9ybWF0Um91dGVzLCBzZXRBcHBPcHRpb25zIH07"},null]}