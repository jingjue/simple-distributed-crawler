{"remainingRequest":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js!D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Project\\spiderPlatform\\spider_platform\\src\\services\\user.js","dependencies":[{"path":"D:\\Project\\spiderPlatform\\spider_platform\\src\\services\\user.js","mtime":1646988546882},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1646988157969},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\eslint-loader\\index.js","mtime":1646988172536}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovUHJvamVjdC9zcGlkZXJQbGF0Zm9ybS9zcGlkZXJfcGxhdGZvcm0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyBMT0dJTiwgUk9VVEVTIH0gZnJvbSAnQC9zZXJ2aWNlcy9hcGknOwppbXBvcnQgeyByZXF1ZXN0LCBNRVRIT0QsIHJlbW92ZUF1dGhvcml6YXRpb24gfSBmcm9tICdAL3V0aWxzL3JlcXVlc3QnOwovKioNCiAqIOeZu+W9leacjeWKoQ0KICogQHBhcmFtIG5hbWUg6LSm5oi35ZCNDQogKiBAcGFyYW0gcGFzc3dvcmQg6LSm5oi35a+G56CBDQogKiBAcmV0dXJucyB7UHJvbWlzZTxBeGlvc1Jlc3BvbnNlPFQ+Pn0NCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGxvZ2luKF94LCBfeDIpIHsKICByZXR1cm4gX2xvZ2luLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9sb2dpbigpIHsKICBfbG9naW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUobmFtZSwgcGFzc3dvcmQpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVxdWVzdChMT0dJTiwgTUVUSE9ELlBPU1QsIHsKICAgICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICAgICAgICB9KSk7CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX2xvZ2luLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRSb3V0ZXNDb25maWcoKSB7CiAgcmV0dXJuIF9nZXRSb3V0ZXNDb25maWcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQovKioNCiAqIOmAgOWHuueZu+W9lQ0KICovCgpmdW5jdGlvbiBfZ2V0Um91dGVzQ29uZmlnKCkgewogIF9nZXRSb3V0ZXNDb25maWcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHJlcXVlc3QoUk9VVEVTLCBNRVRIT0QuR0VUKSk7CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwogIHJldHVybiBfZ2V0Um91dGVzQ29uZmlnLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0ocHJvY2Vzcy5lbnYuVlVFX0FQUF9ST1VURVNfS0VZKTsKICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShwcm9jZXNzLmVudi5WVUVfQVBQX1BFUk1JU1NJT05TX0tFWSk7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0ocHJvY2Vzcy5lbnYuVlVFX0FQUF9ST0xFU19LRVkpOwogIHJlbW92ZUF1dGhvcml6YXRpb24oKTsKfQpleHBvcnQgZGVmYXVsdCB7CiAgbG9naW46IGxvZ2luLAogIGxvZ291dDogbG9nb3V0LAogIGdldFJvdXRlc0NvbmZpZzogZ2V0Um91dGVzQ29uZmlnCn07"},{"version":3,"sources":["D:/Project/spiderPlatform/spider_platform/src/services/user.js"],"names":["LOGIN","ROUTES","request","METHOD","removeAuthorization","login","name","password","POST","getRoutesConfig","GET","logout","localStorage","removeItem","process","env","VUE_APP_ROUTES_KEY","VUE_APP_PERMISSIONS_KEY","VUE_APP_ROLES_KEY"],"mappings":";;AAAA,SAAQA,KAAR,EAAeC,MAAf,QAA4B,gBAA5B;AACA,SAAQC,OAAR,EAAiBC,MAAjB,EAAyBC,mBAAzB,QAAmD,iBAAnD;AAEA;;;;;;;AAMA,gBAAsBC,KAAtB;AAAA;AAAA;;;mEAAO,iBAAqBC,IAArB,EAA2BC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA,6CACEL,OAAO,CAACF,KAAD,EAAQG,MAAM,CAACK,IAAf,EAAqB;AACjCF,cAAAA,IAAI,EAAEA,IAD2B;AAEjCC,cAAAA,QAAQ,EAAEA;AAFuB,aAArB,CADT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAOP,gBAAsBE,eAAtB;AAAA;AAAA;AAIA;;;;;6EAJO;AAAA;AAAA;AAAA;AAAA;AAAA,8CACEP,OAAO,CAACD,MAAD,EAASE,MAAM,CAACO,GAAhB,CADT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAOP,OAAO,SAASC,MAAT,GAAkB;AACvBC,EAAAA,YAAY,CAACC,UAAb,CAAwBC,OAAO,CAACC,GAAR,CAAYC,kBAApC;AACAJ,EAAAA,YAAY,CAACC,UAAb,CAAwBC,OAAO,CAACC,GAAR,CAAYE,uBAApC;AACAL,EAAAA,YAAY,CAACC,UAAb,CAAwBC,OAAO,CAACC,GAAR,CAAYG,iBAApC;AACAd,EAAAA,mBAAmB;AACpB;AACD,eAAe;AACbC,EAAAA,KAAK,EAALA,KADa;AAEbM,EAAAA,MAAM,EAANA,MAFa;AAGbF,EAAAA,eAAe,EAAfA;AAHa,CAAf","sourcesContent":["import {LOGIN, ROUTES} from '@/services/api'\r\nimport {request, METHOD, removeAuthorization} from '@/utils/request'\r\n\r\n/**\r\n * 登录服务\r\n * @param name 账户名\r\n * @param password 账户密码\r\n * @returns {Promise<AxiosResponse<T>>}\r\n */\r\nexport async function login(name, password) {\r\n  return request(LOGIN, METHOD.POST, {\r\n    name: name,\r\n    password: password\r\n  })\r\n}\r\n\r\nexport async function getRoutesConfig() {\r\n  return request(ROUTES, METHOD.GET)\r\n}\r\n\r\n/**\r\n * 退出登录\r\n */\r\nexport function logout() {\r\n  localStorage.removeItem(process.env.VUE_APP_ROUTES_KEY)\r\n  localStorage.removeItem(process.env.VUE_APP_PERMISSIONS_KEY)\r\n  localStorage.removeItem(process.env.VUE_APP_ROLES_KEY)\r\n  removeAuthorization()\r\n}\r\nexport default {\r\n  login,\r\n  logout,\r\n  getRoutesConfig\r\n}\r\n"]}]}