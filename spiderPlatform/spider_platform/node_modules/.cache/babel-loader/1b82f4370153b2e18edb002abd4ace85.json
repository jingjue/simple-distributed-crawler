{"remainingRequest":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js!D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Project\\spiderPlatform\\spider_platform\\src\\pages\\proj_manage\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Project\\spiderPlatform\\spider_platform\\src\\pages\\proj_manage\\index.vue","mtime":1650594515625},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1646988158074},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1646988157969},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1646988174758}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovUHJvamVjdC9zcGlkZXJQbGF0Zm9ybS9zcGlkZXJfcGxhdGZvcm0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9Qcm9qZWN0L3NwaWRlclBsYXRmb3JtL3NwaWRlcl9wbGF0Zm9ybS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IE1FVEhPRCwgcmVxdWVzdCB9IGZyb20gJ0AvdXRpbHMvcmVxdWVzdCc7CmltcG9ydCB7IEFERF9IT1RfU1BJREVSLCBBRERfS0VZV09SRCwgQ09OVEVOVF9TUElERVIsIEdFVF9BQ0NPVU5UX0lORk8sIEdFVF9BTExfQ09OVEVOVF9TUElERVIsIEdFVF9DVVNUT01fS0VZV09SRFMsIEdFVF9ERVZJQ0VfSU5GTywgR0VUX0hPVF9TUElERVIsIEdFVF9QUk9KRUNUU19JTkZPLCBQQVVTRV9USU1JTkcsIFJNX0hPVF9TUElERVIsIFNQSURFUl9ERUxfQURELCBTUElERVJfU1RBVFVTLCBTVEFSVF9USU1JTkcsIFVQREFURV9QUk9fQUNDT1VOVCwgVVBEQVRFX1BST0pFQ1RfREVWSUNFLCBVUERBVEVfVElNSU5HX0pPQiwgU1BJREVSX01PTklUT1IgfSBmcm9tICdAL3NlcnZpY2VzL2FwaSc7CmltcG9ydCAqIGFzIGVjaGFydHMgZnJvbSAiZWNoYXJ0cyI7IC8vIGltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3Byb2pfbWFuYWdlJywKICBpMThuOiByZXF1aXJlKCcuL2kxOG4nKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWRkU3BpZGVyOiBbXSwKICAgICAgYWRkU3BpZGVyTGlzdDogW10sCiAgICAgIG5vd1Byb2plY3Q6ICcnLAogICAgICBlZGl0X3NwaWRlcl9pbmRleDogbnVsbCwKICAgICAgZWRpdF9zcGlkZXJfcm93OiBudWxsLAogICAgICBzcGlkZXJfaXNfc3RhcnQ6IHRydWUsCiAgICAgIGFjdGl2ZU5hbWU6ICdmaXJzdCcsCiAgICAgIHNwaWRlcl9wYWdlU2l6ZTogNywKICAgICAgc3BpZGVyX2N1cnJlbnRQYWdlOiAxLAogICAgICBzcGlkZXJfdG90YWw6IDQsCiAgICAgIHNwaWRlcl90YWJsZURhdGE6IFtdLAogICAgICBzcGlkZXJfY3JlYXRlRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHNwaWRlcl9lZGl0RGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGFsbEhvdFNwaWRlcnM6IFtdLAogICAgICBhbGxLZXl3b3Jkc0ZvclByb2plY3Q6IFtdLAogICAgICBuZXdIb3RTcGlkZXJGb3JQcm9qZWN0OiAiIiwKICAgICAgcHJvamVjdEhvdFNwaWRlcnM6IFtdLAogICAgICBpc0FkZEtleXdvcmRCdG5WaXNpYmxlOiBmYWxzZSwKICAgICAgaXNBZGRIb3RTcGlkZXJCdG5WaXNpYmxlOiBmYWxzZSwKICAgICAgbmV3S2V5d29yZEZvclByb2plY3Q6ICIiLAogICAgICBpc0FkZFRpbWVkVGFza0J0blZpc2libGU6IGZhbHNlLAogICAgICBpc0FkZERpc3RFcXVpcEJ0blZpc2libGU6IGZhbHNlLAogICAgICBpc0NyZWF0ZVByb2plY3RCdG5WaXNpYmxlOiBmYWxzZSwKICAgICAgaXNBZGRQbGF0Zm9ybUFjY291bnRzQnRuVmlzaWJsZTogZmFsc2UsCiAgICAgIGFsbFByb2plY3Q6IFtdLAogICAgICBjdXJyZW50UHJvamVjdDogbnVsbCwKICAgICAgbmV3RGlzdEVxdWlwSXA6ICIiLAogICAgICBhbGxEaXN0RXF1aXA6IFtdLAogICAgICBkaXN0RXF1aXBzRnJvUG9qOiB7CiAgICAgICAgcHJvamVjdE5hbWU6ICIiLAogICAgICAgIGRpc3RFcXVpcHM6IFtdCiAgICAgIH0sCiAgICAgIHRpbWluZ1Rhc2s6IHt9LAogICAgICBhbGxTY2hlZHVsZVRhc2s6IFtdLAogICAgICBwcm9qZWN0QWNjb3VudHM6IFtdLAogICAgICBhbGxBY2NvdW50czogW10sCiAgICAgIG5ld1Byb2plY3RBY2NvdW50OiAiIiwKICAgICAgc3BpZGVyU3RhdHVzOiB7CiAgICAgICAgc3RhcnRUaW1lOiAiIiwKICAgICAgICBlbmRUaW1lOiAiIiwKICAgICAgICBjbG9zZWRSZWFzb246ICIiCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDb250ZW50U3BpZGVyOiBmdW5jdGlvbiBnZXRDb250ZW50U3BpZGVyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5zcGlkZXJfY3JlYXRlRGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgcmVxdWVzdChHRVRfQUxMX0NPTlRFTlRfU1BJREVSLCBNRVRIT0QuR0VULCB7fSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIG5vd1NwaWRlciA9IFtdOwoKICAgICAgICBmb3IgKHZhciBpIGluIF90aGlzLnNwaWRlcl90YWJsZURhdGEpIHsKICAgICAgICAgIG5vd1NwaWRlci5wdXNoKF90aGlzLnNwaWRlcl90YWJsZURhdGFbaV1bJ25hbWUnXSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgc3BpZGVyT3B0aW9ucyA9IHJlcy5kYXRhLmNvbnRlbnRfc3BpZGVycy5maWx0ZXIoZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiAhbm93U3BpZGVyLmluY2x1ZGVzKHYpOwogICAgICAgIH0pOwogICAgICAgIHRoYXQuYWRkU3BpZGVyTGlzdCA9IHNwaWRlck9wdGlvbnM7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEhvdFNwaWRlcnM6IGZ1bmN0aW9uIGdldEhvdFNwaWRlcnMoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgcmVxdWVzdChHRVRfSE9UX1NQSURFUiwgTUVUSE9ELkdFVCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhhdC5hbGxIb3RTcGlkZXJzID0gW107CiAgICAgICAgICB0aGF0LmFsbEhvdFNwaWRlcnMgPSByZXMuZGF0YS5ob3Rfc3BpZGVyczsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldEhvdFNwaWRlcnNGb3JQcm9qZWN0OiBmdW5jdGlvbiBnZXRIb3RTcGlkZXJzRm9yUHJvamVjdChwcm9qZWN0TmFtZSkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHJlcXVlc3QoR0VUX1BST0pFQ1RTX0lORk8sIE1FVEhPRC5QT1NULCB7CiAgICAgICAgcHJvamVjdF9uYW1lOiBwcm9qZWN0TmFtZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB2YXIgYWxsU3BpZGVycyA9IHJlcy5kYXRhLm1lc3NhZ2UuaG90X3NwaWRlcl9jb25maWc7CiAgICAgICAgICB0aGF0LnByb2plY3RIb3RTcGlkZXJzID0gW107CgogICAgICAgICAgZm9yICh2YXIga2V5IGluIGFsbFNwaWRlcnMpIHsKICAgICAgICAgICAgdGhhdC5wcm9qZWN0SG90U3BpZGVycy5wdXNoKHsKICAgICAgICAgICAgICAicGxhdGZvcm0iOiBrZXksCiAgICAgICAgICAgICAgInN0YXR1cyI6IGFsbFNwaWRlcnNba2V5XQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldEFsbEtleXdvcmRzRm9yUHJvamVjdDogZnVuY3Rpb24gZ2V0QWxsS2V5d29yZHNGb3JQcm9qZWN0KCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHZhciBwcm9qZWN0X25hbWUgPSB0aGF0LmN1cnJlbnRQcm9qZWN0Lm5hbWU7CiAgICAgIHJlcXVlc3QoR0VUX0NVU1RPTV9LRVlXT1JEUywgTUVUSE9ELlBPU1QsIHsKICAgICAgICAicHJvamVjdF9uYW1lIjogcHJvamVjdF9uYW1lCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoYXQuYWxsS2V5d29yZHNGb3JQcm9qZWN0ID0gW107CiAgICAgICAgICB0aGF0LmFsbEtleXdvcmRzRm9yUHJvamVjdCA9IHJlcy5kYXRhLm1lc3NhZ2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBhZGRIb3RTcGlkZXI6IGZ1bmN0aW9uIGFkZEhvdFNwaWRlcigpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB2YXIgcHJvamVjdE5hbWUgPSB0aGF0LmN1cnJlbnRQcm9qZWN0Lm5hbWU7CiAgICAgIHJlcXVlc3QoQUREX0hPVF9TUElERVIsIE1FVEhPRC5QT1NULCB7CiAgICAgICAgInByb2plY3RfbmFtZSI6IHByb2plY3ROYW1lLAogICAgICAgICJhZGRfc3BpZGVyIjogW3RoYXQubmV3SG90U3BpZGVyRm9yUHJvamVjdF0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhhdC5nZXRIb3RTcGlkZXJzRm9yUHJvamVjdCh0aGF0LmN1cnJlbnRQcm9qZWN0Lm5hbWUpOwogICAgICAgICAgdGhhdC5pc0FkZEhvdFNwaWRlckJ0blZpc2libGUgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZUhvdFNwaWRlcjogZnVuY3Rpb24gcmVtb3ZlSG90U3BpZGVyKGhvdFNwaWRlcikgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHZhciBwcm9qZWN0TmFtZSA9IHRoYXQuY3VycmVudFByb2plY3QubmFtZTsKICAgICAgcmVxdWVzdChSTV9IT1RfU1BJREVSLCBNRVRIT0QuUE9TVCwgewogICAgICAgICJwcm9qZWN0X25hbWUiOiBwcm9qZWN0TmFtZSwKICAgICAgICAicm1fc3BpZGVyIjogW2hvdFNwaWRlcl0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhhdC5nZXRIb3RTcGlkZXJzRm9yUHJvamVjdCh0aGF0LmN1cnJlbnRQcm9qZWN0Lm5hbWUpOwogICAgICAgICAgdGhhdC5pc0FkZEhvdFNwaWRlckJ0blZpc2libGUgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGFkZEhvdFNwaWRlcktleXdvcmQ6IGZ1bmN0aW9uIGFkZEhvdFNwaWRlcktleXdvcmQoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIHByb2plY3RfbmFtZSA9IHRoYXQuY3VycmVudFByb2plY3QubmFtZTsKICAgICAgcmVxdWVzdChBRERfS0VZV09SRCwgTUVUSE9ELlBPU1QsIHsKICAgICAgICAicHJvamVjdF9uYW1lIjogcHJvamVjdF9uYW1lLAogICAgICAgICJhZGRfa2V5d29yZHMiOiBbdGhhdC5uZXdLZXl3b3JkRm9yUHJvamVjdF0sCiAgICAgICAgInJtX2tleXdvcmRzIjogW10KICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhhdC5nZXRBbGxLZXl3b3Jkc0ZvclByb2plY3QoKTsKICAgICAgICB0aGF0LmlzQWRkS2V5d29yZEJ0blZpc2libGUgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlS2V5d29yZEZvclByb2plY3Q6IGZ1bmN0aW9uIGRlbGV0ZUtleXdvcmRGb3JQcm9qZWN0KGluZGV4LCByb3cpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB2YXIgcHJvamVjdF9uYW1lID0gdGhhdC5jdXJyZW50UHJvamVjdC5uYW1lOwogICAgICByZXF1ZXN0KEFERF9LRVlXT1JELCBNRVRIT0QuUE9TVCwgewogICAgICAgICJwcm9qZWN0X25hbWUiOiBwcm9qZWN0X25hbWUsCiAgICAgICAgImFkZF9rZXl3b3JkcyI6IFtdLAogICAgICAgICJybV9rZXl3b3JkcyI6IFtyb3ddCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHRoYXQuZ2V0QWxsS2V5d29yZHNGb3JQcm9qZWN0KCk7CiAgICAgICAgdGhhdC5pc0FkZEtleXdvcmRCdG5WaXNpYmxlID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIHF1ZXJ5UHJvamVjdHM6IGZ1bmN0aW9uIHF1ZXJ5UHJvamVjdHMoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgcmVxdWVzdChHRVRfUFJPSkVDVFNfSU5GTywgTUVUSE9ELlBPU1QsIHsKICAgICAgICBwcm9qZWN0X25hbWU6ICIiCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoYXQuYWxsUHJvamVjdCA9IHJlcy5kYXRhLm1lc3NhZ2UucHJvamVjdHM7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBtYW5hZ2VDb250ZW50U3BpZGVyOiBmdW5jdGlvbiBtYW5hZ2VDb250ZW50U3BpZGVyKGluZGV4LCByb3cpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGF0LmFjdGl2ZU5hbWUgPSAic2Vjb25kIjsKICAgICAgdGhpcy5nZXRBbGxDb250ZW50U3BpZGVyKHJvdy5uYW1lKTsKICAgICAgdGhpcy5ub3dQcm9qZWN0ID0gcm93Lm5hbWU7CiAgICB9LAogICAgZ2V0QWxsQ29udGVudFNwaWRlcjogZnVuY3Rpb24gZ2V0QWxsQ29udGVudFNwaWRlcihwcm9qZWN0TmFtZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdChDT05URU5UX1NQSURFUiwgTUVUSE9ELlBPU1QsIHsKICAgICAgICAgICAgICAgICAgcHJvamVjdF9uYW1lOiBwcm9qZWN0TmFtZQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBuZXdEYXRhID0gW107CgogICAgICAgICAgICAgICAgICBmb3IgKHZhciBkZXZpY2UgaW4gcmVzLmRhdGEuY29udGVudCkgewogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHNwaWRlciBpbiByZXMuZGF0YS5jb250ZW50W2RldmljZV0pIHsKICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGEucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IHJlcy5kYXRhLmNvbnRlbnRbZGV2aWNlXVtzcGlkZXJdWydzdGFydF90aW1lJ10sCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNwaWRlciwKICAgICAgICAgICAgICAgICAgICAgICAgbl9uYW1lOiBzcGlkZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIHRhZzogJ+W3suWQr+eUqCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZTogZGV2aWNlCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzMi5zcGlkZXJfdGFibGVEYXRhID0gbmV3RGF0YTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbWFuYWdlSG90U3BpZGVyOiBmdW5jdGlvbiBtYW5hZ2VIb3RTcGlkZXIoaW5kZXgpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGF0LmFjdGl2ZU5hbWUgPSAidGhpcmQiOwogICAgICB0aGF0LmN1cnJlbnRQcm9qZWN0ID0gdGhhdC5hbGxQcm9qZWN0W2luZGV4XTsKICAgICAgdmFyIGFsbFNwaWRlcnMgPSB0aGF0LmN1cnJlbnRQcm9qZWN0LmhvdF9zcGlkZXJfY29uZmlnOwogICAgICB0aGF0LnByb2plY3RIb3RTcGlkZXJzID0gW107CgogICAgICBmb3IgKHZhciBrZXkgaW4gYWxsU3BpZGVycykgewogICAgICAgIHRoYXQucHJvamVjdEhvdFNwaWRlcnMucHVzaCh7CiAgICAgICAgICAicGxhdGZvcm0iOiBrZXksCiAgICAgICAgICAic3RhdHVzIjogYWxsU3BpZGVyc1trZXldCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoYXQuZ2V0SG90U3BpZGVycygpOwogICAgICB0aGF0LmdldEFsbEtleXdvcmRzRm9yUHJvamVjdCgpOwogICAgfSwKICAgIG1hbmFnZURpc3RFcXVpcDogZnVuY3Rpb24gbWFuYWdlRGlzdEVxdWlwKGluZGV4KSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdGhhdC5hY3RpdmVOYW1lID0gImZpZnRoIjsKICAgICAgdGhhdC5jdXJyZW50UHJvamVjdCA9IHRoYXQuYWxsUHJvamVjdFtpbmRleF07CiAgICAgIHJlcXVlc3QoR0VUX0RFVklDRV9JTkZPLCBNRVRIT0QuUE9TVCwgewogICAgICAgIHByb2plY3RfbmFtZTogdGhhdC5jdXJyZW50UHJvamVjdC5uYW1lCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoYXQuZGlzdEVxdWlwc0Zyb1Bvai5kaXN0RXF1aXBzID0gW107CgogICAgICAgICAgZm9yICh2YXIga2V5IGluIHJlcy5kYXRhLm1lc3NhZ2UpIHsKICAgICAgICAgICAgdGhhdC5kaXN0RXF1aXBzRnJvUG9qLmRpc3RFcXVpcHMucHVzaChyZXMuZGF0YS5tZXNzYWdlW2tleV0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJlcXVlc3QoR0VUX0RFVklDRV9JTkZPLCBNRVRIT0QuUE9TVCwgewogICAgICAgIHByb2plY3RfbmFtZTogIiIKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdmFyIGRpc3RFcXVpcHMgPSByZXMuZGF0YS5tZXNzYWdlOwogICAgICAgICAgdGhhdC5hbGxEaXN0RXF1aXAgPSBbXTsKCiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGlzdEVxdWlwcykgewogICAgICAgICAgICB0aGF0LmFsbERpc3RFcXVpcC5wdXNoKGRpc3RFcXVpcHNba2V5XSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBtYW5hZ2VQbGF0QWNjb3VudDogZnVuY3Rpb24gbWFuYWdlUGxhdEFjY291bnQoaW5kZXgpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGF0LmFjdGl2ZU5hbWUgPSAic2l4dGgiOwogICAgICB0aGF0LmN1cnJlbnRQcm9qZWN0ID0gdGhhdC5hbGxQcm9qZWN0W2luZGV4XTsKICAgICAgdGhhdC5xdWVyeVByb2plY3RBY2NvdW50KCk7CiAgICB9LAogICAgcmVsb2FkUHJvamVjdERldmljZTogZnVuY3Rpb24gcmVsb2FkUHJvamVjdERldmljZSgpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICByZXF1ZXN0KEdFVF9ERVZJQ0VfSU5GTywgTUVUSE9ELlBPU1QsIHsKICAgICAgICBwcm9qZWN0X25hbWU6IHRoYXQuY3VycmVudFByb2plY3QubmFtZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGF0LmRpc3RFcXVpcHNGcm9Qb2ouZGlzdEVxdWlwcyA9IFtdOwoKICAgICAgICAgIGZvciAodmFyIGtleSBpbiByZXMuZGF0YS5tZXNzYWdlKSB7CiAgICAgICAgICAgIHRoYXQuZGlzdEVxdWlwc0Zyb1Bvai5kaXN0RXF1aXBzLnB1c2gocmVzLmRhdGEubWVzc2FnZVtrZXldKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGFkZFByb2plY3REZXZpY2U6IGZ1bmN0aW9uIGFkZFByb2plY3REZXZpY2UoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgcmVxdWVzdChVUERBVEVfUFJPSkVDVF9ERVZJQ0UsIE1FVEhPRC5QT1NULCB7CiAgICAgICAgInByb2plY3RfbmFtZSI6IHRoYXQuY3VycmVudFByb2plY3QubmFtZSwKICAgICAgICAiYWRkX2lwIjogW3RoYXQubmV3RGlzdEVxdWlwSXBdLAogICAgICAgICJybV9pcCI6IFtdCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoYXQucmVsb2FkUHJvamVjdERldmljZSgpOwogICAgICAgICAgdGhhdC5pc0FkZERpc3RFcXVpcEJ0blZpc2libGUgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZVByb2plY3REZXZpY2U6IGZ1bmN0aW9uIHJlbW92ZVByb2plY3REZXZpY2UoZGlzdEVxdWlwSXBUb1JlbW92ZSkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHJlcXVlc3QoVVBEQVRFX1BST0pFQ1RfREVWSUNFLCBNRVRIT0QuUE9TVCwgewogICAgICAgICJwcm9qZWN0X25hbWUiOiB0aGF0LmN1cnJlbnRQcm9qZWN0Lm5hbWUsCiAgICAgICAgImFkZF9pcCI6IFtdLAogICAgICAgICJybV9pcCI6IFtkaXN0RXF1aXBJcFRvUmVtb3ZlXQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGF0LnJlbG9hZFByb2plY3REZXZpY2UoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZVRpbWluZ1Rhc2s6IGZ1bmN0aW9uIHVwZGF0ZVRpbWluZ1Rhc2soKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIGFfbmFtZSA9IHRoYXQudGltaW5nVGFzay5uYW1lOwogICAgICB2YXIgYV9vYmogPSB7fTsKICAgICAgYV9vYmpbInRpbWluZ19qb2IiXSA9IHt9OwoKICAgICAgaWYgKHRoYXQudGltaW5nVGFzay50cmlnZ2VyID09PSAiaW50ZXJ2YWwiKSB7CiAgICAgICAgdGhhdC50aW1pbmdUYXNrLmt3YXJncy5kYXkgPSBOdW1iZXIodGhhdC50aW1pbmdUYXNrLmt3YXJncy5kYXkpOwogICAgICAgIHRoYXQudGltaW5nVGFzay5rd2FyZ3MuaG91ciA9IE51bWJlcih0aGF0LnRpbWluZ1Rhc2sua3dhcmdzLmhvdXIpOwogICAgICAgIHRoYXQudGltaW5nVGFzay5rd2FyZ3MubWludXRlID0gTnVtYmVyKHRoYXQudGltaW5nVGFzay5rd2FyZ3MubWludXRlKTsKICAgICAgICB0aGF0LnRpbWluZ1Rhc2sua3dhcmdzLnNlY29uZCA9IE51bWJlcih0aGF0LnRpbWluZ1Rhc2sua3dhcmdzLnNlY29uZCk7CiAgICAgIH0KCiAgICAgIGFfb2JqWyJ0aW1pbmdfam9iIl1bYV9uYW1lXSA9IHRoYXQudGltaW5nVGFzazsKICAgICAgcmVxdWVzdChVUERBVEVfVElNSU5HX0pPQiwgTUVUSE9ELlBPU1QsIGFfb2JqKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGF0LnF1ZXJ5QWxsU2NoZWR1bGVUYXNrKCk7CiAgICAgICAgdGhhdC5pc0FkZFRpbWVkVGFza0J0blZpc2libGUgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgc3BpZGVyX2ZpbHRlclRhZzogZnVuY3Rpb24gc3BpZGVyX2ZpbHRlclRhZyh2YWx1ZSwgcm93KSB7CiAgICAgIHJldHVybiByb3cudGFnID09PSB2YWx1ZTsKICAgIH0sCiAgICBzcGlkZXJfaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uIHNwaWRlcl9oYW5kbGVDbGljayh0YWIpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwoKICAgICAgaWYgKHRhYi5pbmRleCA9PT0gIjMiKSB7CiAgICAgICAgdGhhdC5xdWVyeUFsbFNjaGVkdWxlVGFzaygpOwogICAgICB9IGVsc2UgaWYgKHRhYi5pbmRleCA9PT0gIjUiKSB7CiAgICAgICAgdGhhdC5xdWVyeVByb2plY3RBY2NvdW50KCk7CiAgICAgIH0gZWxzZSBpZiAodGFiLmluZGV4ID09PSAiMiIpIHsKICAgICAgICB0aGF0LmdldEhvdFNwaWRlcnMoKTsKICAgICAgICB0aGF0LmFjdGl2ZU5hbWUgPSAidGhpcmQiOwogICAgICB9CiAgICB9LAogICAgcXVlcnlBbGxTY2hlZHVsZVRhc2s6IGZ1bmN0aW9uIHF1ZXJ5QWxsU2NoZWR1bGVUYXNrKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHJlcXVlc3QoR0VUX1BST0pFQ1RTX0lORk8sIE1FVEhPRC5QT1NULCB7CiAgICAgICAgcHJvamVjdF9uYW1lOiAiIgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB2YXIgam9iTWFuYWdlciA9IHJlcy5kYXRhLm1lc3NhZ2Uuam9iX21hbmFnZXI7CiAgICAgICAgICB0aGF0LmFsbFNjaGVkdWxlVGFzayA9IFtdOwoKICAgICAgICAgIGZvciAodmFyIGtleSBpbiBqb2JNYW5hZ2VyKSB7CiAgICAgICAgICAgIHRoYXQuYWxsU2NoZWR1bGVUYXNrLnB1c2goam9iTWFuYWdlcltrZXldKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNwaWRlcl9oYW5kbGVEZWxldGU6IGZ1bmN0aW9uIHNwaWRlcl9oYW5kbGVEZWxldGUoaW5kZXgsIHJvdykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5Yig6Zmk6K+l54is6JmrLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgIGNlbnRlcjogdHJ1ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXF1ZXN0KFNQSURFUl9ERUxfQURELCBNRVRIT0QuUE9TVCwgewogICAgICAgICAgInByb2plY3RfbmFtZSI6IHRoYXQubm93UHJvamVjdCwKICAgICAgICAgICJhZGRfc3BpZGVycyI6IFtdLAogICAgICAgICAgInJtX3NwaWRlcnMiOiByb3cubl9uYW1lCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAzMDApIHsKICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICBtZXNzYWdlOiAn5LiN5a2Y5Zyo6K+l54is6Jmr6aG555uuJywKICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTniKzomavmiJDlip8nLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMy5zcGlkZXJfdGFibGVEYXRhLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc3BpZGVyX2hhbmRsZV91c2VyX0N1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIHNwaWRlcl9oYW5kbGVfdXNlcl9DdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsOwogICAgfSwKICAgIGNyZWF0ZVNwaWRlcjogZnVuY3Rpb24gY3JlYXRlU3BpZGVyKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIC8v5Zyo6L+Z6YeM6K+35rGC5pyN5Yqh5Zmo6I635Y+W5Yiw5Y+v5Lul5re75Yqg55qE54is6Jmr77yM5bm25LiU5a+55q+U5q2k6aG555uu5bey5pyJ55qE54is6Jmr5pu05pawb3B0aW9ucwogICAgICAvL+ivt+axguacjeWKoeWZqOaWsOW7uueIrOiZqwogICAgICBpZiAodGhpcy5hZGRTcGlkZXIubGVuZ3RoID09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICfmnKrpgInmi6nniKzomasnLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVxdWVzdChTUElERVJfREVMX0FERCwgTUVUSE9ELlBPU1QsIHsKICAgICAgICAgICJwcm9qZWN0X25hbWUiOiB0aGlzLm5vd1Byb2plY3QsCiAgICAgICAgICAiYWRkX3NwaWRlcnMiOiB0aGlzLmFkZFNwaWRlciwKICAgICAgICAgICJybV9zcGlkZXJzIjogIiIKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDMwMCkgewogICAgICAgICAgICBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICfkuI3lrZjlnKjor6XniKzomavpobnnm64nLAogICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogJ+a3u+WKoOaIkOWKnycsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXM0LmdldEFsbENvbnRlbnRTcGlkZXIoX3RoaXM0Lm5vd1Byb2plY3QpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLnNwaWRlcl9jcmVhdGVEaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgc3BpZGVyX2VkaXQ6IGZ1bmN0aW9uIHNwaWRlcl9lZGl0KGluZGV4LCByb3cpIHsKICAgICAgdGhpcy5zcGlkZXJfZWRpdERpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnNwaWRlcl9pc19zdGFydCA9IHJvdy50YWcgPT0gJ+W3suWQr+eUqCcgPyB0cnVlIDogZmFsc2U7CiAgICAgIHRoaXMuZWRpdF9zcGlkZXJfaW5kZXggPSBpbmRleDsKICAgICAgdGhpcy5lZGl0X3NwaWRlcl9yb3cgPSByb3c7IC8vIOagueaNruWOn+Wni+aVsOaNruabtOaWsOaMiemSrgogICAgfSwKICAgIGVkaXRTcGlkZXI6IGZ1bmN0aW9uIGVkaXRTcGlkZXIoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIHN0YXR1cyA9IHRoaXMuZWRpdF9zcGlkZXJfcm93LnRhZyA9PSAn5bey5ZCv55SoJyA/IGZhbHNlIDogdHJ1ZTsKICAgICAgdmFyIG5hbWUgPSB0aGlzLmVkaXRfc3BpZGVyX3Jvdy5uX25hbWU7CiAgICAgIHZhciBzcGlkZXJfc3RhdHVzID0ge307CiAgICAgIHNwaWRlcl9zdGF0dXNbbmFtZV0gPSBzdGF0dXM7CiAgICAgIHJlcXVlc3QoU1BJREVSX1NUQVRVUywgTUVUSE9ELlBPU1QsIHsKICAgICAgICBwcm9qZWN0X25hbWU6IHRoaXMubm93UHJvamVjdCwKICAgICAgICBzcGlkZXJfc3RhdHVzOiBzcGlkZXJfc3RhdHVzCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDMwMCkgewogICAgICAgICAgX3RoaXM1LiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogJ+S4jeWtmOWcqOivpeeIrOiZq+mhueebricsCiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNS4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICfnvJbovpHniKzomavmiJDlip8nLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzNS5zcGlkZXJfdGFibGVEYXRhW190aGlzNS5lZGl0X3NwaWRlcl9pbmRleF0udGFnID0gX3RoaXM1LnNwaWRlcl9pc19zdGFydCA/ICLlt7LlkK/nlKgiIDogIuW3suWBnOeUqCI7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5zcGlkZXJfZWRpdERpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICBtb25pdG9yU3BpZGVyOiBmdW5jdGlvbiBtb25pdG9yU3BpZGVyKGluZGV4LCByb3cpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGF0LmFjdGl2ZU5hbWUgPSAic2V2ZW50aCI7CiAgICAgIHJlcXVlc3QoU1BJREVSX01PTklUT1IsIE1FVEhPRC5QT1NULCB7CiAgICAgICAgInByb2plY3RfbmFtZSI6IHRoYXQubm93UHJvamVjdCwKICAgICAgICAicGxhdGZvcm0iOiByb3cubl9uYW1lCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoZS5kYXRhLmNvZGUgPT09IDIwMCkgdGhhdC5wYXJzZVNwaWRlclN0YXR1cyhlLmRhdGEuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIHBhcnNlU3BpZGVyU3RhdHVzOiBmdW5jdGlvbiBwYXJzZVNwaWRlclN0YXR1cyhvcmlnaW5EYXRhKSB7CiAgICAgIHRoaXMuc3BpZGVyU3RhdHVzLnN0YXJ0VGltZSA9IG9yaWdpbkRhdGEuc3RhcnRfdGltZTsKICAgICAgdGhpcy5zcGlkZXJTdGF0dXMuZW5kVGltZSA9IG9yaWdpbkRhdGEuZW5kX3RpbWU7CiAgICAgIHRoaXMuc3BpZGVyU3RhdHVzLmNsb3NlZFJlYXNvbiA9IG9yaWdpbkRhdGEuY2xvc2VkX3JlYXNvbjsKICAgICAgdmFyIGRhdGFWb2x1bWVDaGFydERvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhVm9sdW1lJyk7CiAgICAgIHZhciBkYXRhVm9sdW1lQ2hhcnQgPSBlY2hhcnRzLmluaXQoZGF0YVZvbHVtZUNoYXJ0RG9tKTsKICAgICAgdmFyIGRhdGFWb2x1bWVDaGFydE9wdGlvbiA9IHsKICAgICAgICB0aXRsZTogewogICAgICAgICAgdGV4dDogIuaVsOaNrumHjyIKICAgICAgICB9LAogICAgICAgIHRvb2x0aXA6IHsKICAgICAgICAgIHRyaWdnZXI6ICdheGlzJwogICAgICAgIH0sCiAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICBkYXRhOiBbJ+aVsOaNrumHjyddCiAgICAgICAgfSwKICAgICAgICBncmlkOiB7CiAgICAgICAgICBsZWZ0OiAnMyUnLAogICAgICAgICAgcmlnaHQ6ICc0JScsCiAgICAgICAgICBib3R0b206ICczJScsCiAgICAgICAgICBjb250YWluTGFiZWw6IHRydWUKICAgICAgICB9LAogICAgICAgIHhBeGlzOiB7CiAgICAgICAgICB0eXBlOiAnY2F0ZWdvcnknLAogICAgICAgICAgYm91bmRhcnlHYXA6IGZhbHNlLAogICAgICAgICAgZGF0YTogb3JpZ2luRGF0YS54CiAgICAgICAgfSwKICAgICAgICB5QXhpczogewogICAgICAgICAgdHlwZTogJ3ZhbHVlJwogICAgICAgIH0sCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgbmFtZTogJ+aVsOaNrumHjycsCiAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICBzdGFjazogJ1RvdGFsJywKICAgICAgICAgIGRhdGE6IG9yaWdpbkRhdGFbIuaVsOaNrumHjyJdLAogICAgICAgICAgc21vb3RoOiB0cnVlCiAgICAgICAgfV0KICAgICAgfTsKICAgICAgZGF0YVZvbHVtZUNoYXJ0T3B0aW9uICYmIGRhdGFWb2x1bWVDaGFydC5zZXRPcHRpb24oZGF0YVZvbHVtZUNoYXJ0T3B0aW9uKTsKICAgICAgdmFyIHJlcVJlc3BWb2x1bWVDaGFydERvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXFSZXNwVm9sdW1lJyk7CiAgICAgIHZhciByZXFSZXNwVm9sdW1lQ2hhcnQgPSBlY2hhcnRzLmluaXQocmVxUmVzcFZvbHVtZUNoYXJ0RG9tKTsKICAgICAgdmFyIHJlcVJlc3BWb2x1bWVDaGFydE9wdGlvbiA9IHsKICAgICAgICB0aXRsZTogewogICAgICAgICAgdGV4dDogIuivt+axguWSjOWTjeW6lOmHjyIKICAgICAgICB9LAogICAgICAgIHRvb2x0aXA6IHsKICAgICAgICAgIHRyaWdnZXI6ICdheGlzJwogICAgICAgIH0sCiAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICBkYXRhOiBbJ+ivt+axgumHjycsICflk43lupTph48nXQogICAgICAgIH0sCiAgICAgICAgZ3JpZDogewogICAgICAgICAgbGVmdDogJzMlJywKICAgICAgICAgIHJpZ2h0OiAnNCUnLAogICAgICAgICAgYm90dG9tOiAnMyUnLAogICAgICAgICAgY29udGFpbkxhYmVsOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB4QXhpczogewogICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JywKICAgICAgICAgIGJvdW5kYXJ5R2FwOiBmYWxzZSwKICAgICAgICAgIGRhdGE6IG9yaWdpbkRhdGEueAogICAgICAgIH0sCiAgICAgICAgeUF4aXM6IHsKICAgICAgICAgIHR5cGU6ICd2YWx1ZScKICAgICAgICB9LAogICAgICAgIHNlcmllczogW3sKICAgICAgICAgIG5hbWU6ICfor7fmsYLph48nLAogICAgICAgICAgdHlwZTogJ2xpbmUnLAogICAgICAgICAgc3RhY2s6ICdUb3RhbCcsCiAgICAgICAgICBkYXRhOiBvcmlnaW5EYXRhWyLor7fmsYLph48iXSwKICAgICAgICAgIHNtb290aDogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIG5hbWU6ICflk43lupTph48nLAogICAgICAgICAgdHlwZTogJ2xpbmUnLAogICAgICAgICAgc3RhY2s6ICdUb3RhbCcsCiAgICAgICAgICBkYXRhOiBvcmlnaW5EYXRhWyLlk43lupTph48iXSwKICAgICAgICAgIHNtb290aDogdHJ1ZQogICAgICAgIH1dCiAgICAgIH07CiAgICAgIHJlcVJlc3BWb2x1bWVDaGFydE9wdGlvbiAmJiByZXFSZXNwVm9sdW1lQ2hhcnQuc2V0T3B0aW9uKHJlcVJlc3BWb2x1bWVDaGFydE9wdGlvbik7CiAgICAgIHZhciBxdWV1ZVZvbHVtZUNoYXJ0RG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1ZXVlVm9sdW1lJyk7CiAgICAgIHZhciBxdWV1ZVZvbHVtZUNoYXJ0ID0gZWNoYXJ0cy5pbml0KHF1ZXVlVm9sdW1lQ2hhcnREb20pOwogICAgICB2YXIgcXVldWVWb2x1bWVDaGFydE9wdGlvbiA9IHsKICAgICAgICB0aXRsZTogewogICAgICAgICAgdGV4dDogIumYn+WIl+mHjyIKICAgICAgICB9LAogICAgICAgIHRvb2x0aXA6IHsKICAgICAgICAgIHRyaWdnZXI6ICdheGlzJwogICAgICAgIH0sCiAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICBkYXRhOiBbJ+W+heivt+axguaVsOmHjycsICflt7LmipPlj5bmlbDph48nXQogICAgICAgIH0sCiAgICAgICAgZ3JpZDogewogICAgICAgICAgbGVmdDogJzMlJywKICAgICAgICAgIHJpZ2h0OiAnNCUnLAogICAgICAgICAgYm90dG9tOiAnMyUnLAogICAgICAgICAgY29udGFpbkxhYmVsOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB4QXhpczogewogICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JywKICAgICAgICAgIGJvdW5kYXJ5R2FwOiBmYWxzZSwKICAgICAgICAgIGRhdGE6IG9yaWdpbkRhdGEueAogICAgICAgIH0sCiAgICAgICAgeUF4aXM6IHsKICAgICAgICAgIHR5cGU6ICd2YWx1ZScKICAgICAgICB9LAogICAgICAgIHNlcmllczogW3sKICAgICAgICAgIG5hbWU6ICflvoXor7fmsYLmlbDph48nLAogICAgICAgICAgdHlwZTogJ2xpbmUnLAogICAgICAgICAgc3RhY2s6ICdUb3RhbCcsCiAgICAgICAgICBkYXRhOiBvcmlnaW5EYXRhWyLlvoXor7fmsYLmlbDph48iXSwKICAgICAgICAgIHNtb290aDogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIG5hbWU6ICflt7LmipPlj5bmlbDph48nLAogICAgICAgICAgdHlwZTogJ2xpbmUnLAogICAgICAgICAgc3RhY2s6ICdUb3RhbCcsCiAgICAgICAgICBkYXRhOiBvcmlnaW5EYXRhWyLlt7LmipPlj5bmlbDph48iXSwKICAgICAgICAgIHNtb290aDogdHJ1ZQogICAgICAgIH1dCiAgICAgIH07CiAgICAgIHF1ZXVlVm9sdW1lQ2hhcnRPcHRpb24gJiYgcXVldWVWb2x1bWVDaGFydC5zZXRPcHRpb24ocXVldWVWb2x1bWVDaGFydE9wdGlvbik7CiAgICAgIHZhciBzdGF0dXNSZXNwVm9sdW1lQ2hhcnREb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzUmVzcFZvbHVtZScpOwogICAgICB2YXIgc3RhdHVzUmVzcFZvbHVtZUNoYXJ0ID0gZWNoYXJ0cy5pbml0KHN0YXR1c1Jlc3BWb2x1bWVDaGFydERvbSk7CiAgICAgIHZhciBzdGF0dXNSZXNwVm9sdW1lQ2hhcnRPcHRpb24gPSB7CiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6ICLnirbmgIHnoIHlk43lupTmlbAiCiAgICAgICAgfSwKICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICB0cmlnZ2VyOiAnYXhpcycKICAgICAgICB9LAogICAgICAgIGxlZ2VuZDogewogICAgICAgICAgZGF0YTogWycyMDAnLCAnMzAxJywgJzQwNCddCiAgICAgICAgfSwKICAgICAgICBncmlkOiB7CiAgICAgICAgICBsZWZ0OiAnMyUnLAogICAgICAgICAgcmlnaHQ6ICc0JScsCiAgICAgICAgICBib3R0b206ICczJScsCiAgICAgICAgICBjb250YWluTGFiZWw6IHRydWUKICAgICAgICB9LAogICAgICAgIHhBeGlzOiB7CiAgICAgICAgICB0eXBlOiAnY2F0ZWdvcnknLAogICAgICAgICAgYm91bmRhcnlHYXA6IGZhbHNlLAogICAgICAgICAgZGF0YTogb3JpZ2luRGF0YS54CiAgICAgICAgfSwKICAgICAgICB5QXhpczogewogICAgICAgICAgdHlwZTogJ3ZhbHVlJwogICAgICAgIH0sCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgbmFtZTogJzIwMCcsCiAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICBzdGFjazogJ1RvdGFsJywKICAgICAgICAgIGRhdGE6IG9yaWdpbkRhdGFbIjIwMCJdLAogICAgICAgICAgc21vb3RoOiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAgbmFtZTogJzMwMScsCiAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICBzdGFjazogJ1RvdGFsJywKICAgICAgICAgIGRhdGE6IG9yaWdpbkRhdGFbIjMwMSJdLAogICAgICAgICAgc21vb3RoOiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAgbmFtZTogJzQwNCcsCiAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICBzdGFjazogJ1RvdGFsJywKICAgICAgICAgIGRhdGE6IG9yaWdpbkRhdGFbIjQwNCJdLAogICAgICAgICAgc21vb3RoOiB0cnVlCiAgICAgICAgfV0KICAgICAgfTsKICAgICAgc3RhdHVzUmVzcFZvbHVtZUNoYXJ0T3B0aW9uICYmIHN0YXR1c1Jlc3BWb2x1bWVDaGFydC5zZXRPcHRpb24oc3RhdHVzUmVzcFZvbHVtZUNoYXJ0T3B0aW9uKTsKICAgIH0sCiAgICBzaG93VXBkYXRlVGltaW5nVGFza0RpYWxvZzogZnVuY3Rpb24gc2hvd1VwZGF0ZVRpbWluZ1Rhc2tEaWFsb2coam9iKSB7CiAgICAgIHRoaXMudGltaW5nVGFzayA9IGpvYjsKICAgICAgdGhpcy5pc0FkZFRpbWVkVGFza0J0blZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIHJlc3VtZVRpbWVkVGFzazogZnVuY3Rpb24gcmVzdW1lVGltZWRUYXNrKGpvYl9uYW1lKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgcmVxdWVzdChTVEFSVF9USU1JTkcsIE1FVEhPRC5QT1NULCB7CiAgICAgICAgInRpbWluZ19qb2JfbmFtZSI6IGpvYl9uYW1lCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHRoYXQucXVlcnlBbGxTY2hlZHVsZVRhc2soKTsKICAgICAgICB0aGF0LmlzQWRkVGltZWRUYXNrQnRuVmlzaWJsZSA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBwYXVzZVRpbWVkVGFzazogZnVuY3Rpb24gcGF1c2VUaW1lZFRhc2soam9iX25hbWUpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICByZXF1ZXN0KFBBVVNFX1RJTUlORywgTUVUSE9ELlBPU1QsIHsKICAgICAgICAidGltaW5nX2pvYl9uYW1lIjogam9iX25hbWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhhdC5xdWVyeUFsbFNjaGVkdWxlVGFzaygpOwogICAgICAgIHRoYXQuaXNBZGRUaW1lZFRhc2tCdG5WaXNpYmxlID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZFByb2plY3RBY2NvdW50OiBmdW5jdGlvbiBhZGRQcm9qZWN0QWNjb3VudCgpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB2YXIgcHJvX25hbWUgPSB0aGF0LmN1cnJlbnRQcm9qZWN0Lm5hbWU7CiAgICAgIHZhciBhY2NvdW50X25hbWUgPSB0aGF0Lm5ld1Byb2plY3RBY2NvdW50OwogICAgICByZXF1ZXN0KFVQREFURV9QUk9fQUNDT1VOVCwgTUVUSE9ELlBPU1QsIHsKICAgICAgICAicHJvamVjdF9uYW1lIjogcHJvX25hbWUsCiAgICAgICAgInVwZGF0ZV9hY2MiOiB7CiAgICAgICAgICAi5b6u5Y2aIjogewogICAgICAgICAgICAiYWRkIjogW2FjY291bnRfbmFtZV0sCiAgICAgICAgICAgICJybSI6IFtdCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGF0LnF1ZXJ5UHJvamVjdEFjY291bnQoKTsKICAgICAgICB0aGF0LmlzQWRkUGxhdGZvcm1BY2NvdW50c0J0blZpc2libGUgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlUHJvamVjdEFjY291bnQ6IGZ1bmN0aW9uIGRlbGV0ZVByb2plY3RBY2NvdW50KHJvdykgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHZhciBwcm9fbmFtZSA9IHRoYXQuY3VycmVudFByb2plY3QubmFtZTsKICAgICAgdmFyIGFjY291bnRfbmFtZSA9IHJvdy51c2VyOwogICAgICByZXF1ZXN0KFVQREFURV9QUk9fQUNDT1VOVCwgTUVUSE9ELlBPU1QsIHsKICAgICAgICAicHJvamVjdF9uYW1lIjogcHJvX25hbWUsCiAgICAgICAgInVwZGF0ZV9hY2MiOiB7CiAgICAgICAgICAi5b6u5Y2aIjogewogICAgICAgICAgICAiYWRkIjogW10sCiAgICAgICAgICAgICJybSI6IFthY2NvdW50X25hbWVdCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGF0LnF1ZXJ5UHJvamVjdEFjY291bnQoKTsKICAgICAgICB0aGF0LmlzQWRkUGxhdGZvcm1BY2NvdW50c0J0blZpc2libGUgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLmlzQWRkRGlzdEVxdWlwQnRuVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIHF1ZXJ5UHJvamVjdEFjY291bnQ6IGZ1bmN0aW9uIHF1ZXJ5UHJvamVjdEFjY291bnQoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIHByb19uYW1lID0gdGhhdC5jdXJyZW50UHJvamVjdC5uYW1lOwogICAgICByZXF1ZXN0KEdFVF9BQ0NPVU5UX0lORk8sIE1FVEhPRC5QT1NULCB7CiAgICAgICAgcHJvamVjdF9uYW1lOiBwcm9fbmFtZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB2YXIgYWNjb3VudHMgPSByZXMuZGF0YS5hY2NvdW50WyLlvq7ljZoiXTsKICAgICAgICAgIHRoYXQucHJvamVjdEFjY291bnRzID0gW107CgogICAgICAgICAgZm9yICh2YXIga2V5IGluIGFjY291bnRzKSB7CiAgICAgICAgICAgIHRoYXQucHJvamVjdEFjY291bnRzLnB1c2goYWNjb3VudHNba2V5XSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmVxdWVzdChHRVRfQUNDT1VOVF9JTkZPLCBNRVRIT0QuUE9TVCwgewogICAgICAgIHByb2plY3RfbmFtZTogIiIKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdmFyIGFjY291bnRzID0gcmVzLmRhdGEuYWNjb3VudFsi5b6u5Y2aIl07CiAgICAgICAgICB0aGF0LmFsbEFjY291bnRzID0gW107CgogICAgICAgICAgZm9yICh2YXIga2V5IGluIGFjY291bnRzKSB7CiAgICAgICAgICAgIHRoYXQuYWxsQWNjb3VudHMucHVzaChhY2NvdW50c1trZXldKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMucXVlcnlQcm9qZWN0cygpOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ3NldHRpbmcnLCBbJ3BhZ2VNaW5IZWlnaHQnXSkpLCB7fSwgewogICAgZGVzYzogZnVuY3Rpb24gZGVzYygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHQoJ2Rlc2NyaXB0aW9uJyk7CiAgICB9CiAgfSkKfTs="},null]}