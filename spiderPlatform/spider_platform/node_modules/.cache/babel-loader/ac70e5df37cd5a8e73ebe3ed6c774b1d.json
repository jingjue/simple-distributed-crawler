{"remainingRequest":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js!D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Project\\spiderPlatform\\spider_platform\\src\\pages\\device_manage\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Project\\spiderPlatform\\spider_platform\\src\\pages\\device_manage\\index.vue","mtime":1651825632557},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1646988157969},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1646988174758},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1646988157969},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1646988174758}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktbmFtZXMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJEOi9Qcm9qZWN0L3NwaWRlclBsYXRmb3JtL3NwaWRlcl9wbGF0Zm9ybS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHJlcXVlc3QsIE1FVEhPRCB9IGZyb20gJ0AvdXRpbHMvcmVxdWVzdCc7CmltcG9ydCB7IERFVklDRSwgREVWSUNFX0RFTF9BREQgfSBmcm9tICdAL3NlcnZpY2VzL2FwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncHJval9tYW5hZ2UnLAogIGkxOG46IHJlcXVpcmUoJy4vaTE4bicpLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYWdlU2l6ZTogNywKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIHRvdGFsOiAxMDAsCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIGFkZERldmljZUluZm9yOiB7CiAgICAgICAgJ2lwJzogJycsCiAgICAgICAgJ3VzZXJuYW1lJzogJycsCiAgICAgICAgJ3Bhc3N3b3JkJzogJycsCiAgICAgICAgJ2FkZHJlc3MnOiAnJywKICAgICAgICAncG9ydCc6ICcnLAogICAgICAgICd2YWxpZCc6IHRydWUKICAgICAgfSwKICAgICAgYWRkRGV2aWNlczogW10sCiAgICAgIGNyZWF0ZURpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBlZGl0RGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIG1vbml0b3JEaWFsb2dWaXNpYmxlOiBmYWxzZQogICAgfTsKICB9LAogIGFjdGl2YXRlZDogZnVuY3Rpb24gYWN0aXZhdGVkKCkgewogICAgdGhpcy5nZXRBbGxEZXZpY2VzKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRBbGxEZXZpY2VzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRBbGxEZXZpY2VzOiBmdW5jdGlvbiBnZXRBbGxEZXZpY2VzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmVxdWVzdChERVZJQ0UsIE1FVEhPRC5QT1NULCB7CiAgICAgICAgcHJvamVjdF9uYW1lOiAiIgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy50YWJsZURhdGEgPSBbXTsKCiAgICAgICAgZm9yICh2YXIga2V5IGluIHJlcy5kYXRhLm1lc3NhZ2UpIHsKICAgICAgICAgIF90aGlzLnRhYmxlRGF0YS5wdXNoKHsKICAgICAgICAgICAgImFkZHJlc3MiOiByZXMuZGF0YS5tZXNzYWdlW2tleV1bImFkZHJlc3MiXSwKICAgICAgICAgICAgImlwIjoga2V5LAogICAgICAgICAgICAicG9ydCI6IHJlcy5kYXRhLm1lc3NhZ2Vba2V5XVsicG9ydCJdLAogICAgICAgICAgICAidXNlcm5hbWUiOiByZXMuZGF0YS5tZXNzYWdlW2tleV1bInVzZXJuYW1lIl0sCiAgICAgICAgICAgICJ2YWxpZCI6IHJlcy5kYXRhLm1lc3NhZ2Vba2V5XVsidmFsaWQiXSA/ICLmnInmlYgiIDogIuaXoOaViCIKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMudG90YWwgPSBfdGhpcy50YWJsZURhdGEubGVuZ3RoOwogICAgICAgIGNvbnNvbGUubG9nKF90aGlzLnRhYmxlRGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKGluZGV4LCByb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbliKDpmaTor6XliIbluIPlvI/orr7lpIcsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgY2VudGVyOiB0cnVlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJlcXVlc3QoREVWSUNFX0RFTF9BREQsIE1FVEhPRC5QT1NULCB7CiAgICAgICAgICAiY292ZXIiOiBmYWxzZSwKICAgICAgICAgICJhZGRfZGV2aWNlcyI6IFtdLAogICAgICAgICAgInJtX2RldmljZXMiOiBbcm93LmlwXQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocmVzLmRhdGEucm1fZXJyb3IpLmxlbmd0aCAhPSAwKSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOWksei0pScsCiAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyLmNyZWF0ZURpYWxvZ1Zpc2libGUgPSBmYWxzZTsKCiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnycsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMyLmdldEFsbERldmljZXMoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVfdXNlcl9DdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVfdXNlcl9DdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsOwogICAgfSwKICAgIGNyZWF0ZURldmljZTogZnVuY3Rpb24gY3JlYXRlRGV2aWNlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIC8v6K+35rGC5pyN5Yqh5Zmo5paw5bu65YiG5biD5byP6K6+5aSHCiAgICAgIGlmICh0aGlzLmFkZERldmljZUluZm9yLnBvcnQgPT0gJycgfHwgdGhpcy5hZGREZXZpY2VJbmZvci51c2VybmFtZSA9PSAnJyB8fCB0aGlzLmFkZERldmljZUluZm9yLnBhc3N3b3JkID09ICcnIHx8IHRoaXMuYWRkRGV2aWNlSW5mb3IuYWRkcmVzcyA9PSAnJyB8fCB0aGlzLmFkZERldmljZUluZm9yLmlwID09ICcnKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5a6M5pW05L+h5oGvJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBhZGREZXZpY2VzID0gW3RoaXMuYWRkRGV2aWNlSW5mb3JdOwogICAgICAgIHJlcXVlc3QoREVWSUNFX0RFTF9BREQsIE1FVEhPRC5QT1NULCB7CiAgICAgICAgICAiY292ZXIiOiBmYWxzZSwKICAgICAgICAgICJhZGRfZGV2aWNlcyI6IGFkZERldmljZXMsCiAgICAgICAgICAicm1fZGV2aWNlcyI6IFtdCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocmVzLmRhdGEuYWRkX2Vycm9yKS5sZW5ndGggIT0gMCkgewogICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICforr7lpIdpcOmHjeWkje+8jOWIm+W7uuWksei0pScsCiAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMzLmNyZWF0ZURpYWxvZ1Zpc2libGUgPSBmYWxzZTsKCiAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogJ+aWsOW7uuWIhuW4g+W8j+iuvuWkh+aIkOWKnycsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMzLmdldEFsbERldmljZXMoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ3NldHRpbmcnLCBbJ3BhZ2VNaW5IZWlnaHQnXSkpLCB7fSwgewogICAgZGVzYzogZnVuY3Rpb24gZGVzYygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHQoJ2Rlc2NyaXB0aW9uJyk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"new-page\" :style=\"`min-height: ${pageMinHeight}px`\">\r\n    <div class=\"create\">\r\n      <el-button size=\"medium\" @click=\"createDialogVisible=true\"> + 添加分布式设备</el-button>\r\n    </div>\r\n    <el-card style=\"margin: 20px\">\r\n       <div class=\"table\">\r\n      <el-table\r\n          :data=\"tableData.slice((currentPage-1)*pageSize,currentPage*pageSize)\"\r\n          style=\"width: 100%\">\r\n        <el-table-column\r\n            label=\"设备地址\"\r\n            min-width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <span style=\"margin-left: 10px\">{{ scope.row.address }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"ip\"\r\n            label=\"设备IP\"\r\n            min-width=\"100\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"port\"\r\n            label=\"端口号\"\r\n            min-width=\"100\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"username\"\r\n            label=\"用户名\"\r\n            min-width=\"100\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"valid\"\r\n            label=\"是否有效\"\r\n            min-width=\"100\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            label=\"操作\"\r\n            min-width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n                size=\"mini\"\r\n                type=\"danger\"\r\n                @click=\"handleDelete(scope.$index, scope.row)\">删除\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    </el-card>\r\n\r\n    <div style=\"height:35px;width:100%\" class=\"clspage\">\r\n      <el-pagination align='center' @current-change=\"handle_user_CurrentChange\" layout=\"prev, pager, next\"\r\n                     :page-size=\"pageSize\" :current-page=\"currentPage\" :total=\"total\"></el-pagination>\r\n    </div>\r\n    <div class=\"dialog\">\r\n      <el-dialog\r\n          title=\"新建设备\"\r\n          :visible.sync=\"createDialogVisible\"\r\n          width=\"40%\"\r\n          center>\r\n        <span>设备ip：</span>\r\n        <el-input v-model=\"addDeviceInfor.ip\" placeholder=\"请输入ip\"></el-input>\r\n        <span>用户名：</span>\r\n        <el-input v-model=\"addDeviceInfor.username\" placeholder=\"请输入用户名\"></el-input>\r\n        <span>密码：</span>\r\n        <el-input v-model=\"addDeviceInfor.password\" placeholder=\"请输入密码\"></el-input>\r\n        <span>设备地址：</span>\r\n        <el-input v-model=\"addDeviceInfor.address\" placeholder=\"请输入设备地址\"></el-input>\r\n        <span>端口号：</span>\r\n        <el-input v-model=\"addDeviceInfor.port\" placeholder=\"请输入端口号\"></el-input>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button @click=\"createDialogVisible = false\">取 消</el-button>\r\n    <el-button type=\"primary\" @click=\"createDevice\">确 定</el-button>\r\n  </span>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from 'vuex'\r\nimport {request, METHOD} from '@/utils/request'\r\nimport {DEVICE, DEVICE_DEL_ADD} from '@/services/api'\r\n\r\nexport default {\r\n  name: 'proj_manage',\r\n  i18n: require('./i18n'),\r\n  data() {\r\n    return {\r\n      pageSize: 7,\r\n      currentPage: 1,\r\n      total: 100,\r\n      tableData: [],\r\n      addDeviceInfor: {\r\n        'ip': '',\r\n        'username': '',\r\n        'password': '',\r\n        'address': '',\r\n        'port': '',\r\n        'valid': true\r\n      },\r\n      addDevices: [],\r\n      createDialogVisible: false,\r\n      editDialogVisible: false,\r\n      monitorDialogVisible: false\r\n    }\r\n  },\r\n  activated() {\r\n   this.getAllDevices()\r\n  },\r\n  mounted() {\r\n    this.getAllDevices()\r\n  },\r\n  methods: {\r\n    getAllDevices() {\r\n      request(DEVICE, METHOD.POST, {\r\n        project_name: \"\"\r\n      }).then(res => {\r\n        this.tableData = []\r\n        for (let key in res.data.message) {\r\n          this.tableData.push(\r\n              {\r\n                \"address\": res.data.message[key][\"address\"],\r\n                \"ip\": key,\r\n                \"port\": res.data.message[key][\"port\"],\r\n                \"username\": res.data.message[key][\"username\"],\r\n                \"valid\": res.data.message[key][\"valid\"] ? \"有效\" : \"无效\"\r\n              }\r\n          )\r\n        }\r\n        this.total = this.tableData.length\r\n        console.log(this.tableData)\r\n      })\r\n\r\n    },\r\n    handleDelete(index, row) {\r\n      this.$confirm('此操作将删除该分布式设备, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n        center: true\r\n      }).then(() => {\r\n         request(DEVICE_DEL_ADD, METHOD.POST, {\r\n          \"cover\": false,\r\n          \"add_devices\": [],\r\n          \"rm_devices\": [row.ip]\r\n        }).then(res => {\r\n          console.log(res)\r\n            if (Object.getOwnPropertyNames(res.data.rm_error).length != 0) {\r\n            this.$message({\r\n              message: '删除失败',\r\n              type: 'warning'\r\n            });\r\n          } else {\r\n            this.createDialogVisible = false\r\n            this.$message({\r\n              message: '删除成功',\r\n              type: 'success'\r\n            });\r\n            this.getAllDevices()\r\n          }\r\n         })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });\r\n      });\r\n    },\r\n    handle_user_CurrentChange(val) {\r\n      this.currentPage = val;\r\n    },\r\n    createDevice() {\r\n\r\n      //请求服务器新建分布式设备\r\n      if (this.addDeviceInfor.port == '' || this.addDeviceInfor.username == '' || this.addDeviceInfor.password == '' || this.addDeviceInfor.address == '' || this.addDeviceInfor.ip == '') {\r\n        this.$message({\r\n          message: '请输入完整信息',\r\n          type: 'warning'\r\n        });\r\n      } else {\r\n        let addDevices = [this.addDeviceInfor]\r\n        request(DEVICE_DEL_ADD, METHOD.POST, {\r\n          \"cover\": false,\r\n          \"add_devices\": addDevices,\r\n          \"rm_devices\": []\r\n        }).then(res => {\r\n          if (Object.getOwnPropertyNames(res.data.add_error).length != 0) {\r\n            this.$message({\r\n              message: '设备ip重复，创建失败',\r\n              type: 'warning'\r\n            });\r\n          } else {\r\n            this.createDialogVisible = false\r\n            this.$message({\r\n              message: '新建分布式设备成功',\r\n              type: 'success'\r\n            });\r\n            this.getAllDevices()\r\n          }\r\n        })\r\n\r\n      }\r\n    },\r\n\r\n  },\r\n\r\n  computed: {\r\n    ...mapState('setting', ['pageMinHeight']),\r\n    desc() {\r\n      return this.$t('description')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import \"index\";\r\n</style>"],"sourceRoot":"src/pages/device_manage"}]}