{"remainingRequest":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js!D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Project\\spiderPlatform\\spider_platform\\src\\utils\\request.js","dependencies":[{"path":"D:\\Project\\spiderPlatform\\spider_platform\\src\\utils\\request.js","mtime":1646988546901},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1646988157969},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\eslint-loader\\index.js","mtime":1646988172536}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJEOi9Qcm9qZWN0L3NwaWRlclBsYXRmb3JtL3NwaWRlcl9wbGF0Zm9ybS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1Byb2plY3Qvc3BpZGVyUGxhdGZvcm0vc3BpZGVyX3BsYXRmb3JtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IENvb2tpZSBmcm9tICdqcy1jb29raWUnOyAvLyDot6jln5/orqTor4Hkv6Hmga8gaGVhZGVyIOWQjQoKdmFyIHhzcmZIZWFkZXJOYW1lID0gJ0F1dGhvcml6YXRpb24nOwpheGlvcy5kZWZhdWx0cy50aW1lb3V0ID0gNTAwMDsKYXhpb3MuZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsKYXhpb3MuZGVmYXVsdHMueHNyZkhlYWRlck5hbWUgPSB4c3JmSGVhZGVyTmFtZTsKYXhpb3MuZGVmYXVsdHMueHNyZkNvb2tpZU5hbWUgPSB4c3JmSGVhZGVyTmFtZTsgLy8g6K6k6K+B57G75Z6LCgp2YXIgQVVUSF9UWVBFID0gewogIEJFQVJFUjogJ0JlYXJlcicsCiAgQkFTSUM6ICdiYXNpYycsCiAgQVVUSDE6ICdhdXRoMScsCiAgQVVUSDI6ICdhdXRoMicKfTsgLy8gaHR0cCBtZXRob2QKCnZhciBNRVRIT0QgPSB7CiAgR0VUOiAnZ2V0JywKICBQT1NUOiAncG9zdCcKfTsKLyoqDQogKiBheGlvc+ivt+axgg0KICogQHBhcmFtIHVybCDor7fmsYLlnLDlnYANCiAqIEBwYXJhbSBtZXRob2Qge01FVEhPRH0gaHR0cCBtZXRob2QNCiAqIEBwYXJhbSBwYXJhbXMg6K+35rGC5Y+C5pWwDQogKiBAcmV0dXJucyB7UHJvbWlzZTxBeGlvc1Jlc3BvbnNlPFQ+Pn0NCiAqLwoKZnVuY3Rpb24gcmVxdWVzdChfeCwgX3gyLCBfeDMsIF94NCkgewogIHJldHVybiBfcmVxdWVzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9Ci8qKg0KICog6K6+572u6K6k6K+B5L+h5oGvDQogKiBAcGFyYW0gYXV0aCB7T2JqZWN0fQ0KICogQHBhcmFtIGF1dGhUeXBlIHtBVVRIX1RZUEV9IOiupOivgeexu+Wei++8jOm7mOiupO+8mntBVVRIX1RZUEUuQkVBUkVSfQ0KICovCgoKZnVuY3Rpb24gX3JlcXVlc3QoKSB7CiAgX3JlcXVlc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodXJsLCBtZXRob2QsIHBhcmFtcywgY29uZmlnKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gbWV0aG9kOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gX2NvbnRleHQudDAgPT09IE1FVEhPRC5HRVQgPyAzIDogX2NvbnRleHQudDAgPT09IE1FVEhPRC5QT1NUID8gNCA6IDU7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgYXhpb3MuZ2V0KHVybCwgX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgICAgICAgfSwgY29uZmlnKSkpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgYXhpb3MucG9zdCh1cmwsIHBhcmFtcywgY29uZmlnKSk7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBheGlvcy5nZXQodXJsLCBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICAgICAgICB9LCBjb25maWcpKSk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX3JlcXVlc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gc2V0QXV0aG9yaXphdGlvbihhdXRoKSB7CiAgdmFyIGF1dGhUeXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBBVVRIX1RZUEUuQkVBUkVSOwoKICBzd2l0Y2ggKGF1dGhUeXBlKSB7CiAgICBjYXNlIEFVVEhfVFlQRS5CRUFSRVI6CiAgICAgIENvb2tpZS5zZXQoeHNyZkhlYWRlck5hbWUsICdCZWFyZXIgJyArIGF1dGgudG9rZW4sIHsKICAgICAgICBleHBpcmVzOiBhdXRoLmV4cGlyZUF0CiAgICAgIH0pOwogICAgICBicmVhazsKCiAgICBjYXNlIEFVVEhfVFlQRS5CQVNJQzoKICAgIGNhc2UgQVVUSF9UWVBFLkFVVEgxOgogICAgY2FzZSBBVVRIX1RZUEUuQVVUSDI6CiAgICBkZWZhdWx0OgogICAgICBicmVhazsKICB9Cn0KLyoqDQogKiDnp7vlh7rorqTor4Hkv6Hmga8NCiAqIEBwYXJhbSBhdXRoVHlwZSB7QVVUSF9UWVBFfSDorqTor4HnsbvlnosNCiAqLwoKCmZ1bmN0aW9uIHJlbW92ZUF1dGhvcml6YXRpb24oKSB7CiAgdmFyIGF1dGhUeXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBBVVRIX1RZUEUuQkVBUkVSOwoKICBzd2l0Y2ggKGF1dGhUeXBlKSB7CiAgICBjYXNlIEFVVEhfVFlQRS5CRUFSRVI6CiAgICAgIENvb2tpZS5yZW1vdmUoeHNyZkhlYWRlck5hbWUpOwogICAgICBicmVhazsKCiAgICBjYXNlIEFVVEhfVFlQRS5CQVNJQzoKICAgIGNhc2UgQVVUSF9UWVBFLkFVVEgxOgogICAgY2FzZSBBVVRIX1RZUEUuQVVUSDI6CiAgICBkZWZhdWx0OgogICAgICBicmVhazsKICB9Cn0KLyoqDQogKiDmo4Dmn6XorqTor4Hkv6Hmga8NCiAqIEBwYXJhbSBhdXRoVHlwZQ0KICogQHJldHVybnMge2Jvb2xlYW59DQogKi8KCgpmdW5jdGlvbiBjaGVja0F1dGhvcml6YXRpb24oKSB7CiAgdmFyIGF1dGhUeXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBBVVRIX1RZUEUuQkVBUkVSOwoKICBzd2l0Y2ggKGF1dGhUeXBlKSB7CiAgICBjYXNlIEFVVEhfVFlQRS5CRUFSRVI6CiAgICAgIGlmIChDb29raWUuZ2V0KHhzcmZIZWFkZXJOYW1lKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICBicmVhazsKCiAgICBjYXNlIEFVVEhfVFlQRS5CQVNJQzoKICAgIGNhc2UgQVVUSF9UWVBFLkFVVEgxOgogICAgY2FzZSBBVVRIX1RZUEUuQVVUSDI6CiAgICBkZWZhdWx0OgogICAgICBicmVhazsKICB9CgogIHJldHVybiBmYWxzZTsKfQovKioNCiAqIOWKoOi9vSBheGlvcyDmi6bmiKrlmagNCiAqIEBwYXJhbSBpbnRlcmNlcHRvcnMNCiAqIEBwYXJhbSBvcHRpb25zDQogKi8KCgpmdW5jdGlvbiBsb2FkSW50ZXJjZXB0b3JzKGludGVyY2VwdG9ycywgb3B0aW9ucykgewogIHZhciByZXF1ZXN0ID0gaW50ZXJjZXB0b3JzLnJlcXVlc3QsCiAgICAgIHJlc3BvbnNlID0gaW50ZXJjZXB0b3JzLnJlc3BvbnNlOyAvLyDliqDovb3or7fmsYLmi6bmiKrlmagKCiAgcmVxdWVzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICB2YXIgb25GdWxmaWxsZWQgPSBpdGVtLm9uRnVsZmlsbGVkLAogICAgICAgIG9uUmVqZWN0ZWQgPSBpdGVtLm9uUmVqZWN0ZWQ7CgogICAgaWYgKCFvbkZ1bGZpbGxlZCB8fCB0eXBlb2Ygb25GdWxmaWxsZWQgIT09ICdmdW5jdGlvbicpIHsKICAgICAgb25GdWxmaWxsZWQgPSBmdW5jdGlvbiBvbkZ1bGZpbGxlZChjb25maWcpIHsKICAgICAgICByZXR1cm4gY29uZmlnOwogICAgICB9OwogICAgfQoKICAgIGlmICghb25SZWplY3RlZCB8fCB0eXBlb2Ygb25SZWplY3RlZCAhPT0gJ2Z1bmN0aW9uJykgewogICAgICBvblJlamVjdGVkID0gZnVuY3Rpb24gb25SZWplY3RlZChlcnJvcikgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgIH07CiAgICB9CgogICAgYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAgICAgcmV0dXJuIG9uRnVsZmlsbGVkKGNvbmZpZywgb3B0aW9ucyk7CiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmV0dXJuIG9uUmVqZWN0ZWQoZXJyb3IsIG9wdGlvbnMpOwogICAgfSk7CiAgfSk7IC8vIOWKoOi9veWTjeW6lOaLpuaIquWZqAoKICByZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICB2YXIgb25GdWxmaWxsZWQgPSBpdGVtLm9uRnVsZmlsbGVkLAogICAgICAgIG9uUmVqZWN0ZWQgPSBpdGVtLm9uUmVqZWN0ZWQ7CgogICAgaWYgKCFvbkZ1bGZpbGxlZCB8fCB0eXBlb2Ygb25GdWxmaWxsZWQgIT09ICdmdW5jdGlvbicpIHsKICAgICAgb25GdWxmaWxsZWQgPSBmdW5jdGlvbiBvbkZ1bGZpbGxlZChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZTsKICAgICAgfTsKICAgIH0KCiAgICBpZiAoIW9uUmVqZWN0ZWQgfHwgdHlwZW9mIG9uUmVqZWN0ZWQgIT09ICdmdW5jdGlvbicpIHsKICAgICAgb25SZWplY3RlZCA9IGZ1bmN0aW9uIG9uUmVqZWN0ZWQoZXJyb3IpIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9OwogICAgfQoKICAgIGF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHJldHVybiBvbkZ1bGZpbGxlZChyZXNwb25zZSwgb3B0aW9ucyk7CiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmV0dXJuIG9uUmVqZWN0ZWQoZXJyb3IsIG9wdGlvbnMpOwogICAgfSk7CiAgfSk7Cn0KLyoqDQogKiDop6PmnpAgdXJsIOS4reeahOWPguaVsA0KICogQHBhcmFtIHVybA0KICogQHJldHVybnMge09iamVjdH0NCiAqLwoKCmZ1bmN0aW9uIHBhcnNlVXJsUGFyYW1zKHVybCkgewogIHZhciBwYXJhbXMgPSB7fTsKCiAgaWYgKCF1cmwgfHwgdXJsID09PSAnJyB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykgewogICAgcmV0dXJuIHBhcmFtczsKICB9CgogIHZhciBwYXJhbXNTdHIgPSB1cmwuc3BsaXQoJz8nKVsxXTsKCiAgaWYgKCFwYXJhbXNTdHIpIHsKICAgIHJldHVybiBwYXJhbXM7CiAgfQoKICB2YXIgcGFyYW1zQXJyID0gcGFyYW1zU3RyLnJlcGxhY2UoLyZ8PS9nLCAnICcpLnNwbGl0KCcgJyk7CgogIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1zQXJyLmxlbmd0aCAvIDI7IGkrKykgewogICAgdmFyIHZhbHVlID0gcGFyYW1zQXJyW2kgKiAyICsgMV07CiAgICBwYXJhbXNbcGFyYW1zQXJyW2kgKiAyXV0gPSB2YWx1ZSA9PT0gJ3RydWUnID8gdHJ1ZSA6IHZhbHVlID09PSAnZmFsc2UnID8gZmFsc2UgOiB2YWx1ZTsKICB9CgogIHJldHVybiBwYXJhbXM7Cn0KCmV4cG9ydCB7IE1FVEhPRCwgQVVUSF9UWVBFLCByZXF1ZXN0LCBzZXRBdXRob3JpemF0aW9uLCByZW1vdmVBdXRob3JpemF0aW9uLCBjaGVja0F1dGhvcml6YXRpb24sIGxvYWRJbnRlcmNlcHRvcnMsIHBhcnNlVXJsUGFyYW1zIH07"},{"version":3,"sources":["D:/Project/spiderPlatform/spider_platform/src/utils/request.js"],"names":["axios","Cookie","xsrfHeaderName","defaults","timeout","withCredentials","xsrfCookieName","AUTH_TYPE","BEARER","BASIC","AUTH1","AUTH2","METHOD","GET","POST","request","url","method","params","config","get","post","setAuthorization","auth","authType","set","token","expires","expireAt","removeAuthorization","remove","checkAuthorization","loadInterceptors","interceptors","options","response","forEach","item","onFulfilled","onRejected","error","Promise","reject","use","parseUrlParams","paramsStr","split","paramsArr","replace","i","length","value"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport Cookie from 'js-cookie'\r\n\r\n// 跨域认证信息 header 名\r\nconst xsrfHeaderName = 'Authorization'\r\n\r\naxios.defaults.timeout = 5000\r\naxios.defaults.withCredentials= true\r\naxios.defaults.xsrfHeaderName= xsrfHeaderName\r\naxios.defaults.xsrfCookieName= xsrfHeaderName\r\n\r\n// 认证类型\r\nconst AUTH_TYPE = {\r\n  BEARER: 'Bearer',\r\n  BASIC: 'basic',\r\n  AUTH1: 'auth1',\r\n  AUTH2: 'auth2',\r\n}\r\n\r\n// http method\r\nconst METHOD = {\r\n  GET: 'get',\r\n  POST: 'post'\r\n}\r\n\r\n/**\r\n * axios请求\r\n * @param url 请求地址\r\n * @param method {METHOD} http method\r\n * @param params 请求参数\r\n * @returns {Promise<AxiosResponse<T>>}\r\n */\r\nasync function request(url, method, params, config) {\r\n  switch (method) {\r\n    case METHOD.GET:\r\n      return axios.get(url, {params, ...config})\r\n    case METHOD.POST:\r\n      return axios.post(url, params, config)\r\n    default:\r\n      return axios.get(url, {params, ...config})\r\n  }\r\n}\r\n\r\n/**\r\n * 设置认证信息\r\n * @param auth {Object}\r\n * @param authType {AUTH_TYPE} 认证类型，默认：{AUTH_TYPE.BEARER}\r\n */\r\nfunction setAuthorization(auth, authType = AUTH_TYPE.BEARER) {\r\n  switch (authType) {\r\n    case AUTH_TYPE.BEARER:\r\n      Cookie.set(xsrfHeaderName, 'Bearer ' + auth.token, {expires: auth.expireAt})\r\n      break\r\n    case AUTH_TYPE.BASIC:\r\n    case AUTH_TYPE.AUTH1:\r\n    case AUTH_TYPE.AUTH2:\r\n    default:\r\n      break\r\n  }\r\n}\r\n\r\n/**\r\n * 移出认证信息\r\n * @param authType {AUTH_TYPE} 认证类型\r\n */\r\nfunction removeAuthorization(authType = AUTH_TYPE.BEARER) {\r\n  switch (authType) {\r\n    case AUTH_TYPE.BEARER:\r\n      Cookie.remove(xsrfHeaderName)\r\n      break\r\n    case AUTH_TYPE.BASIC:\r\n    case AUTH_TYPE.AUTH1:\r\n    case AUTH_TYPE.AUTH2:\r\n    default:\r\n      break\r\n  }\r\n}\r\n\r\n/**\r\n * 检查认证信息\r\n * @param authType\r\n * @returns {boolean}\r\n */\r\nfunction checkAuthorization(authType = AUTH_TYPE.BEARER) {\r\n  switch (authType) {\r\n    case AUTH_TYPE.BEARER:\r\n      if (Cookie.get(xsrfHeaderName)) {\r\n        return true\r\n      }\r\n      break\r\n    case AUTH_TYPE.BASIC:\r\n    case AUTH_TYPE.AUTH1:\r\n    case AUTH_TYPE.AUTH2:\r\n    default:\r\n      break\r\n  }\r\n  return false\r\n}\r\n\r\n/**\r\n * 加载 axios 拦截器\r\n * @param interceptors\r\n * @param options\r\n */\r\nfunction loadInterceptors(interceptors, options) {\r\n  const {request, response} = interceptors\r\n  // 加载请求拦截器\r\n  request.forEach(item => {\r\n    let {onFulfilled, onRejected} = item\r\n    if (!onFulfilled || typeof onFulfilled !== 'function') {\r\n      onFulfilled = config => config\r\n    }\r\n    if (!onRejected || typeof onRejected !== 'function') {\r\n      onRejected = error => Promise.reject(error)\r\n    }\r\n    axios.interceptors.request.use(\r\n      config => onFulfilled(config, options),\r\n      error => onRejected(error, options)\r\n    )\r\n  })\r\n  // 加载响应拦截器\r\n  response.forEach(item => {\r\n    let {onFulfilled, onRejected} = item\r\n    if (!onFulfilled || typeof onFulfilled !== 'function') {\r\n      onFulfilled = response => response\r\n    }\r\n    if (!onRejected || typeof onRejected !== 'function') {\r\n      onRejected = error => Promise.reject(error)\r\n    }\r\n    axios.interceptors.response.use(\r\n      response => onFulfilled(response, options),\r\n      error => onRejected(error, options)\r\n    )\r\n  })\r\n}\r\n\r\n/**\r\n * 解析 url 中的参数\r\n * @param url\r\n * @returns {Object}\r\n */\r\nfunction parseUrlParams(url) {\r\n  const params = {}\r\n  if (!url || url === '' || typeof url !== 'string') {\r\n    return params\r\n  }\r\n  const paramsStr = url.split('?')[1]\r\n  if (!paramsStr) {\r\n    return params\r\n  }\r\n  const paramsArr = paramsStr.replace(/&|=/g, ' ').split(' ')\r\n  for (let i = 0; i < paramsArr.length / 2; i++) {\r\n    const value = paramsArr[i * 2 + 1]\r\n    params[paramsArr[i * 2]] = value === 'true' ? true : (value === 'false' ? false : value)\r\n  }\r\n  return params\r\n}\r\n\r\nexport {\r\n  METHOD,\r\n  AUTH_TYPE,\r\n  request,\r\n  setAuthorization,\r\n  removeAuthorization,\r\n  checkAuthorization,\r\n  loadInterceptors,\r\n  parseUrlParams\r\n}\r\n"]}]}