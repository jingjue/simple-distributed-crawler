{"remainingRequest":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js!D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Project\\spiderPlatform\\spider_platform\\src\\components\\menu\\menu.js","dependencies":[{"path":"D:\\Project\\spiderPlatform\\spider_platform\\src\\components\\menu\\menu.js","mtime":1646988546815},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1646988158074},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1646988157969},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\eslint-loader\\index.js","mtime":1646988172536}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5lbnRyaWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5saW5rIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICJEOi9Qcm9qZWN0L3NwaWRlclBsYXRmb3JtL3NwaWRlcl9wbGF0Zm9ybS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CgovKioNCiAqIOivpeaPkuS7tuWPr+agueaNruiPnOWNlemFjee9ruiHquWKqOeUn+aIkCBBTlREIG1lbnXnu4Tku7YNCiAqIG1lbnVPcHRpb25z56S65L6L77yaDQogKiBbDQogKiAgew0KICogICAgbmFtZTogJ+iPnOWNleWQjeensCcsDQogKiAgICBwYXRoOiAn6I+c5Y2V6Lev55SxJywNCiAqICAgIG1ldGE6IHsNCiAqICAgICAgaWNvbjogJ+iPnOWNleWbvuaghycsDQogKiAgICAgIGludmlzaWJsZTogJ2Jvb2xlYW4sIOaYr+WQpuS4jeWPr+ingSwg6buY6K6kIGZhbHNlJywNCiAqICAgIH0sDQogKiAgICBjaGlsZHJlbjogW+WtkOiPnOWNlemFjee9rl0NCiAqICB9LA0KICogIHsNCiAqICAgIG5hbWU6ICfoj5zljZXlkI3np7AnLA0KICogICAgcGF0aDogJ+iPnOWNlei3r+eUsScsDQogKiAgICBtZXRhOiB7DQogKiAgICAgIGljb246ICfoj5zljZXlm77moIcnLA0KICogICAgICBpbnZpc2libGU6ICdib29sZWFuLCDmmK/lkKbkuI3lj6/op4EsIOm7mOiupCBmYWxzZScsDQogKiAgICB9LA0KICogICAgY2hpbGRyZW46IFvlrZDoj5zljZXphY3nva5dDQogKiAgfQ0KICogXQ0KICoNCiAqIGkxOG46IOWbvemZheWMlumFjee9ruOAguezu+e7n+m7mOiupOS8muagueaNriBvcHRpb25zIHJvdXRl6YWN572u55qEIHBhdGgg5ZKMIG5hbWUg55Sf5oiQ6Iux5paH5Lul5Y+K5Lit5paH55qE5Zu96ZmF5YyW6YWN572u77yM5aaC6ZyA6Ieq5a6a5LmJ5oiW5aKe5Yqg5YW25LuW6K+t6KiA77yM6YWN572uDQogKiDmraTpobnljbPlj6/jgILlpoLvvJoNCiAqIGkxOG46IHsNCiAqICAgbWVzc2FnZXM6IHsNCiAqICAgICBDTjoge2Rhc2hib2FyZDoge25hbWU6ICfnm5HmjqfkuK3lv4MnfX0NCiAqICAgICBISzoge2Rhc2hib2FyZDoge25hbWU6ICfnm6PmjqfkuK3lv4MnfX0NCiAqICAgfQ0KICogfQ0KICoqLwppbXBvcnQgTWVudSBmcm9tICdhbnQtZGVzaWduLXZ1ZS9lcy9tZW51JzsKaW1wb3J0IEljb24gZnJvbSAnYW50LWRlc2lnbi12dWUvZXMvaWNvbic7CmltcG9ydCBmYXN0RXF1YWwgZnJvbSAnZmFzdC1kZWVwLWVxdWFsJzsKaW1wb3J0IHsgZ2V0STE4bktleSB9IGZyb20gJ0AvdXRpbHMvcm91dGVyVXRpbCc7CnZhciBJdGVtID0gTWVudS5JdGVtLAogICAgU3ViTWVudSA9IE1lbnUuU3ViTWVudTsKCnZhciByZXNvbHZlUGF0aCA9IGZ1bmN0aW9uIHJlc29sdmVQYXRoKHBhdGgpIHsKICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICB2YXIgX3BhdGggPSBwYXRoOwogIE9iamVjdC5lbnRyaWVzKHBhcmFtcykuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikgewogICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksCiAgICAgICAga2V5ID0gX3JlZjJbMF0sCiAgICAgICAgdmFsdWUgPSBfcmVmMlsxXTsKCiAgICBfcGF0aCA9IF9wYXRoLnJlcGxhY2UobmV3IFJlZ0V4cCgiOiIuY29uY2F0KGtleSksICdnJyksIHZhbHVlKTsKICB9KTsKICByZXR1cm4gX3BhdGg7Cn07Cgp2YXIgdG9Sb3V0ZXNNYXAgPSBmdW5jdGlvbiB0b1JvdXRlc01hcChyb3V0ZXMpIHsKICB2YXIgbWFwID0ge307CiAgcm91dGVzLmZvckVhY2goZnVuY3Rpb24gKHJvdXRlKSB7CiAgICBtYXBbcm91dGUuZnVsbFBhdGhdID0gcm91dGU7CgogICAgaWYgKHJvdXRlLmNoaWxkcmVuICYmIHJvdXRlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIGNoaWxkcmVuTWFwID0gdG9Sb3V0ZXNNYXAocm91dGUuY2hpbGRyZW4pOwogICAgICBPYmplY3QuYXNzaWduKG1hcCwgY2hpbGRyZW5NYXApOwogICAgfQogIH0pOwogIHJldHVybiBtYXA7Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0lNZW51JywKICBwcm9wczogewogICAgb3B0aW9uczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICB0aGVtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJ2RhcmsnCiAgICB9LAogICAgbW9kZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJ2lubGluZScKICAgIH0sCiAgICBjb2xsYXBzZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGkxOG46IE9iamVjdCwKICAgIG9wZW5LZXlzOiBBcnJheQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdGVkS2V5czogW10sCiAgICAgIHNPcGVuS2V5czogW10sCiAgICAgIGNhY2hlZE9wZW5LZXlzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBtZW51VGhlbWU6IGZ1bmN0aW9uIG1lbnVUaGVtZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudGhlbWUgPT0gJ2xpZ2h0JyA/IHRoaXMudGhlbWUgOiAnZGFyayc7CiAgICB9LAogICAgcm91dGVzTWFwOiBmdW5jdGlvbiByb3V0ZXNNYXAoKSB7CiAgICAgIHJldHVybiB0b1JvdXRlc01hcCh0aGlzLm9wdGlvbnMpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy51cGRhdGVNZW51KCk7CgogICAgaWYgKHRoaXMub3B0aW9ucy5sZW5ndGggPiAwICYmICF0aGlzLm9wdGlvbnNbMF0uZnVsbFBhdGgpIHsKICAgICAgdGhpcy5mb3JtYXRPcHRpb25zKHRoaXMub3B0aW9ucywgJycpOwogICAgfSAvLyDoh6rlrprkuYnlm73pmYXljJbphY3nva4KCgogICAgaWYgKHRoaXMuaTE4biAmJiB0aGlzLmkxOG4ubWVzc2FnZXMpIHsKICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5pMThuLm1lc3NhZ2VzOwogICAgICBPYmplY3Qua2V5cyhtZXNzYWdlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX3RoaXMuJGkxOG4ubWVyZ2VMb2NhbGVNZXNzYWdlKGtleSwgbWVzc2FnZXNba2V5XSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG9wdGlvbnM6IGZ1bmN0aW9uIG9wdGlvbnModmFsKSB7CiAgICAgIGlmICh2YWwubGVuZ3RoID4gMCAmJiAhdmFsWzBdLmZ1bGxQYXRoKSB7CiAgICAgICAgdGhpcy5mb3JtYXRPcHRpb25zKHRoaXMub3B0aW9ucywgJycpOwogICAgICB9CiAgICB9LAogICAgaTE4bjogZnVuY3Rpb24gaTE4bih2YWwpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodmFsICYmIHZhbC5tZXNzYWdlcykgewogICAgICAgIHZhciBtZXNzYWdlcyA9IHRoaXMuaTE4bi5tZXNzYWdlczsKICAgICAgICBPYmplY3Qua2V5cyhtZXNzYWdlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICBfdGhpczIuJGkxOG4ubWVyZ2VMb2NhbGVNZXNzYWdlKGtleSwgbWVzc2FnZXNba2V5XSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjb2xsYXBzZWQ6IGZ1bmN0aW9uIGNvbGxhcHNlZCh2YWwpIHsKICAgICAgaWYgKHZhbCkgewogICAgICAgIHRoaXMuY2FjaGVkT3BlbktleXMgPSB0aGlzLnNPcGVuS2V5czsKICAgICAgICB0aGlzLnNPcGVuS2V5cyA9IFtdOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc09wZW5LZXlzID0gdGhpcy5jYWNoZWRPcGVuS2V5czsKICAgICAgfQogICAgfSwKICAgICckcm91dGUnOiBmdW5jdGlvbiAkcm91dGUoKSB7CiAgICAgIHRoaXMudXBkYXRlTWVudSgpOwogICAgfSwKICAgIHNPcGVuS2V5czogZnVuY3Rpb24gc09wZW5LZXlzKHZhbCkgewogICAgICB0aGlzLiRlbWl0KCdvcGVuQ2hhbmdlJywgdmFsKTsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOm9wZW5LZXlzJywgdmFsKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlbmRlckljb246IGZ1bmN0aW9uIHJlbmRlckljb24oaCwgaWNvbiwga2V5KSB7CiAgICAgIGlmICh0aGlzLiRzY29wZWRTbG90cy5pY29uICYmIGljb24gJiYgaWNvbiAhPT0gJ25vbmUnKSB7CiAgICAgICAgdmFyIHZub2RlcyA9IHRoaXMuJHNjb3BlZFNsb3RzLmljb24oewogICAgICAgICAgaWNvbjogaWNvbiwKICAgICAgICAgIGtleToga2V5CiAgICAgICAgfSk7CiAgICAgICAgdm5vZGVzLmZvckVhY2goZnVuY3Rpb24gKHZub2RlKSB7CiAgICAgICAgICB2bm9kZS5kYXRhLmNsYXNzID0gdm5vZGUuZGF0YS5jbGFzcyA/IHZub2RlLmRhdGEuY2xhc3MgOiBbXTsKICAgICAgICAgIHZub2RlLmRhdGEuY2xhc3MucHVzaCgnYW50aWNvbicpOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiB2bm9kZXM7CiAgICAgIH0KCiAgICAgIHJldHVybiAhaWNvbiB8fCBpY29uID09ICdub25lJyA/IG51bGwgOiBoKEljb24sIHsKICAgICAgICBwcm9wczogewogICAgICAgICAgdHlwZTogaWNvbgogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVuZGVyTWVudUl0ZW06IGZ1bmN0aW9uIHJlbmRlck1lbnVJdGVtKGgsIG1lbnUpIHsKICAgICAgdmFyIHRhZyA9ICdyb3V0ZXItbGluayc7CiAgICAgIHZhciBwYXRoID0gcmVzb2x2ZVBhdGgobWVudS5mdWxsUGF0aCwgbWVudS5tZXRhLnBhcmFtcyk7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIHRvOiB7CiAgICAgICAgICAgIHBhdGg6IHBhdGgsCiAgICAgICAgICAgIHF1ZXJ5OiBtZW51Lm1ldGEucXVlcnkKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICBzdHlsZTogJ292ZXJmbG93OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3JtYWw7dGV4dC1vdmVyZmxvdzpjbGlwOycKICAgICAgICB9CiAgICAgIH07CgogICAgICBpZiAobWVudS5tZXRhICYmIG1lbnUubWV0YS5saW5rKSB7CiAgICAgICAgdGFnID0gJ2EnOwogICAgICAgIGNvbmZpZyA9IHsKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIHN0eWxlOiAnb3ZlcmZsb3c6aGlkZGVuO3doaXRlLXNwYWNlOm5vcm1hbDt0ZXh0LW92ZXJmbG93OmNsaXA7JywKICAgICAgICAgICAgaHJlZjogbWVudS5tZXRhLmxpbmssCiAgICAgICAgICAgIHRhcmdldDogJ19ibGFuaycKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CgogICAgICByZXR1cm4gaChJdGVtLCB7CiAgICAgICAga2V5OiBtZW51LmZ1bGxQYXRoCiAgICAgIH0sIFtoKHRhZywgY29uZmlnLCBbdGhpcy5yZW5kZXJJY29uKGgsIG1lbnUubWV0YSA/IG1lbnUubWV0YS5pY29uIDogJ25vbmUnLCBtZW51LmZ1bGxQYXRoKSwgdGhpcy4kdChnZXRJMThuS2V5KG1lbnUuZnVsbFBhdGgpKV0pXSk7CiAgICB9LAogICAgcmVuZGVyU3ViTWVudTogZnVuY3Rpb24gcmVuZGVyU3ViTWVudShoLCBtZW51KSB7CiAgICAgIHZhciB0aGlzXyA9IHRoaXM7CiAgICAgIHZhciBzdWJJdGVtID0gW2goJ3NwYW4nLCB7CiAgICAgICAgc2xvdDogJ3RpdGxlJywKICAgICAgICBhdHRyczogewogICAgICAgICAgc3R5bGU6ICdvdmVyZmxvdzpoaWRkZW47d2hpdGUtc3BhY2U6bm9ybWFsO3RleHQtb3ZlcmZsb3c6Y2xpcDsnCiAgICAgICAgfQogICAgICB9LCBbdGhpcy5yZW5kZXJJY29uKGgsIG1lbnUubWV0YSA/IG1lbnUubWV0YS5pY29uIDogJ25vbmUnLCBtZW51LmZ1bGxQYXRoKSwgdGhpcy4kdChnZXRJMThuS2V5KG1lbnUuZnVsbFBhdGgpKV0pXTsKICAgICAgdmFyIGl0ZW1BcnIgPSBbXTsKICAgICAgbWVudS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaXRlbUFyci5wdXNoKHRoaXNfLnJlbmRlckl0ZW0oaCwgaXRlbSkpOwogICAgICB9KTsKICAgICAgcmV0dXJuIGgoU3ViTWVudSwgewogICAgICAgIGtleTogbWVudS5mdWxsUGF0aAogICAgICB9LCBzdWJJdGVtLmNvbmNhdChpdGVtQXJyKSk7CiAgICB9LAogICAgcmVuZGVySXRlbTogZnVuY3Rpb24gcmVuZGVySXRlbShoLCBtZW51KSB7CiAgICAgIHZhciBtZXRhID0gbWVudS5tZXRhOwoKICAgICAgaWYgKCFtZXRhIHx8ICFtZXRhLmludmlzaWJsZSkgewogICAgICAgIHZhciByZW5kZXJDaGlsZHJlbiA9IGZhbHNlOwogICAgICAgIHZhciBjaGlsZHJlbiA9IG1lbnUuY2hpbGRyZW47CgogICAgICAgIGlmIChjaGlsZHJlbiAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIGNoaWxkTWV0YSA9IGNoaWxkcmVuW2ldLm1ldGE7CgogICAgICAgICAgICBpZiAoIWNoaWxkTWV0YSB8fCAhY2hpbGRNZXRhLmludmlzaWJsZSkgewogICAgICAgICAgICAgIHJlbmRlckNoaWxkcmVuID0gdHJ1ZTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG1lbnUuY2hpbGRyZW4gJiYgcmVuZGVyQ2hpbGRyZW4gPyB0aGlzLnJlbmRlclN1Yk1lbnUoaCwgbWVudSkgOiB0aGlzLnJlbmRlck1lbnVJdGVtKGgsIG1lbnUpOwogICAgICB9CiAgICB9LAogICAgcmVuZGVyTWVudTogZnVuY3Rpb24gcmVuZGVyTWVudShoLCBtZW51VHJlZSkgewogICAgICB2YXIgdGhpc18gPSB0aGlzOwogICAgICB2YXIgbWVudUFyciA9IFtdOwogICAgICBtZW51VHJlZS5mb3JFYWNoKGZ1bmN0aW9uIChtZW51LCBpKSB7CiAgICAgICAgbWVudUFyci5wdXNoKHRoaXNfLnJlbmRlckl0ZW0oaCwgbWVudSwgJzAnLCBpKSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gbWVudUFycjsKICAgIH0sCiAgICBmb3JtYXRPcHRpb25zOiBmdW5jdGlvbiBmb3JtYXRPcHRpb25zKG9wdGlvbnMsIHBhcmVudFBhdGgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBvcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKHJvdXRlKSB7CiAgICAgICAgdmFyIGlzRnVsbFBhdGggPSByb3V0ZS5wYXRoLnN1YnN0cmluZygwLCAxKSA9PSAnLyc7CiAgICAgICAgcm91dGUuZnVsbFBhdGggPSBpc0Z1bGxQYXRoID8gcm91dGUucGF0aCA6IHBhcmVudFBhdGggKyAnLycgKyByb3V0ZS5wYXRoOwoKICAgICAgICBpZiAocm91dGUuY2hpbGRyZW4pIHsKICAgICAgICAgIF90aGlzMy5mb3JtYXRPcHRpb25zKHJvdXRlLmNoaWxkcmVuLCByb3V0ZS5mdWxsUGF0aCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVNZW51OiBmdW5jdGlvbiB1cGRhdGVNZW51KCkgewogICAgICB0aGlzLnNlbGVjdGVkS2V5cyA9IHRoaXMuZ2V0U2VsZWN0ZWRLZXlzKCk7CiAgICAgIHZhciBvcGVuS2V5cyA9IHRoaXMuc2VsZWN0ZWRLZXlzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtICE9PSAnJzsKICAgICAgfSk7CiAgICAgIG9wZW5LZXlzID0gb3BlbktleXMuc2xpY2UoMCwgb3BlbktleXMubGVuZ3RoIC0gMSk7CgogICAgICBpZiAoIWZhc3RFcXVhbChvcGVuS2V5cywgdGhpcy5zT3BlbktleXMpKSB7CiAgICAgICAgdGhpcy5jb2xsYXBzZWQgfHwgdGhpcy5tb2RlID09PSAnaG9yaXpvbnRhbCcgPyB0aGlzLmNhY2hlZE9wZW5LZXlzID0gb3BlbktleXMgOiB0aGlzLnNPcGVuS2V5cyA9IG9wZW5LZXlzOwogICAgICB9CiAgICB9LAogICAgZ2V0U2VsZWN0ZWRLZXlzOiBmdW5jdGlvbiBnZXRTZWxlY3RlZEtleXMoKSB7CiAgICAgIHZhciBtYXRjaGVzID0gdGhpcy4kcm91dGUubWF0Y2hlZDsKICAgICAgdmFyIHJvdXRlID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdOwogICAgICB2YXIgY2hvc2UgPSB0aGlzLnJvdXRlc01hcFtyb3V0ZS5wYXRoXTsKCiAgICAgIGlmIChjaG9zZS5tZXRhICYmIGNob3NlLm1ldGEuaGlnaGxpZ2h0KSB7CiAgICAgICAgY2hvc2UgPSB0aGlzLnJvdXRlc01hcFtjaG9zZS5tZXRhLmhpZ2hsaWdodF07CiAgICAgICAgdmFyIHJlc29sdmUgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgICBwYXRoOiBjaG9zZS5mdWxsUGF0aAogICAgICAgIH0pOwogICAgICAgIG1hdGNoZXMgPSByZXNvbHZlLnJlc29sdmVkICYmIHJlc29sdmUucmVzb2x2ZWQubWF0Y2hlZCB8fCBtYXRjaGVzOwogICAgICB9CgogICAgICByZXR1cm4gbWF0Y2hlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5wYXRoOwogICAgICB9KTsKICAgIH0KICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgIHJldHVybiBoKE1lbnUsIHsKICAgICAgcHJvcHM6IHsKICAgICAgICB0aGVtZTogdGhpcy5tZW51VGhlbWUsCiAgICAgICAgbW9kZTogdGhpcy4kcHJvcHMubW9kZSwKICAgICAgICBzZWxlY3RlZEtleXM6IHRoaXMuc2VsZWN0ZWRLZXlzLAogICAgICAgIG9wZW5LZXlzOiB0aGlzLm9wZW5LZXlzID8gdGhpcy5vcGVuS2V5cyA6IHRoaXMuc09wZW5LZXlzCiAgICAgIH0sCiAgICAgIG9uOiB7CiAgICAgICAgJ3VwZGF0ZTpvcGVuS2V5cyc6IGZ1bmN0aW9uIHVwZGF0ZU9wZW5LZXlzKHZhbCkgewogICAgICAgICAgX3RoaXM0LnNPcGVuS2V5cyA9IHZhbDsKICAgICAgICB9LAogICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhvYmopIHsKICAgICAgICAgIG9iai5zZWxlY3RlZEtleXMgPSBbb2JqLmtleV07CgogICAgICAgICAgX3RoaXM0LiRlbWl0KCdzZWxlY3QnLCBvYmopOwogICAgICAgIH0KICAgICAgfQogICAgfSwgdGhpcy5yZW5kZXJNZW51KGgsIHRoaXMub3B0aW9ucykpOwogIH0KfTs="},null]}