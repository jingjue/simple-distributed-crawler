{"remainingRequest":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Project\\spiderPlatform\\spider_platform\\src\\components\\checkbox\\ImgCheckbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Project\\spiderPlatform\\spider_platform\\src\\components\\checkbox\\ImgCheckbox.vue","mtime":1646988546802},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1646988157969},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1646988174758}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpjb25zdCBHcm91cCA9IHsNCiAgbmFtZTogJ0ltZ0NoZWNrYm94R3JvdXAnLA0KICBwcm9wczogew0KICAgIG11bHRpcGxlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgZGVmYXVsdDogZmFsc2UNCiAgICB9LA0KICAgIGRlZmF1bHRWYWx1ZXM6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgZGVmYXVsdDogKCkgPT4gW10NCiAgICB9DQogIH0sDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICB2YWx1ZXM6IFtdLA0KICAgICAgb3B0aW9uczogW10NCiAgICB9DQogIH0sDQogIHByb3ZpZGUgKCkgew0KICAgIHJldHVybiB7DQogICAgICBncm91cENvbnRleHQ6IHRoaXMNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgJ3ZhbHVlcyc6IGZ1bmN0aW9uICh2YWx1ZSkgew0KICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdmFsdWUpDQogICAgICAvLyAvLyDmraTmnaHku7bmmK/kuLrop6PlhrPljZXpgInml7bvvIzop6blj5HkuKTmrKFjaGFuZ+S6i+S7tumXrumimA0KICAgICAgLy8gaWYgKCEobmV3VmFsLmxlbmd0aCA9PT0gMSAmJiBvbGRWYWwubGVuZ3RoID09PSAxICYmIG5ld1ZhbFswXSA9PT0gb2xkVmFsWzBdKSkgew0KICAgICAgLy8gICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB0aGlzLnZhbHVlcykNCiAgICAgIC8vIH0NCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBoYW5kbGVDaGFuZ2UgKG9wdGlvbikgew0KICAgICAgaWYgKCFvcHRpb24uY2hlY2tlZCkgew0KICAgICAgICBpZiAodGhpcy52YWx1ZXMuaW5kZXhPZihvcHRpb24udmFsdWUpID4gLTEpIHsNCiAgICAgICAgICB0aGlzLnZhbHVlcyA9IHRoaXMudmFsdWVzLmZpbHRlcihpdGVtID0+IGl0ZW0gIT0gb3B0aW9uLnZhbHVlKQ0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBpZiAoIXRoaXMubXVsdGlwbGUpIHsNCiAgICAgICAgICB0aGlzLnZhbHVlcyA9IFtvcHRpb24udmFsdWVdDQogICAgICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICBpZiAoaXRlbS52YWx1ZSAhPSBvcHRpb24udmFsdWUpIHsNCiAgICAgICAgICAgICAgaXRlbS5zQ2hlY2tlZCA9IGZhbHNlDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLnZhbHVlcy5wdXNoKG9wdGlvbi52YWx1ZSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgcmVuZGVyIChoKSB7DQogICAgcmV0dXJuIGgoDQogICAgICAnZGl2JywNCiAgICAgIHsNCiAgICAgICAgYXR0cnM6IHtzdHlsZTogJ2Rpc3BsYXk6IGZsZXgnfQ0KICAgICAgfSwNCiAgICAgIFt0aGlzLiRzbG90cy5kZWZhdWx0XQ0KICAgICkNCiAgfQ0KfQ0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdJbWdDaGVja2JveCcsDQogIEdyb3VwLA0KICBwcm9wczogew0KICAgIGNoZWNrZWQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgaW1nOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICByZXF1aXJlZDogdHJ1ZQ0KICAgIH0sDQogICAgdmFsdWU6IHsNCiAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgfSwNCiAgICB0aXRsZTogU3RyaW5nDQogIH0sDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBzQ2hlY2tlZDogdGhpcy5pbml0Q2hlY2tlZCgpDQogICAgfQ0KICB9LA0KICBpbmplY3Q6IFsnZ3JvdXBDb250ZXh0J10sDQogIHdhdGNoOiB7DQogICAgJ3NDaGVja2VkJzogZnVuY3Rpb24gKCkgew0KICAgICAgY29uc3Qgb3B0aW9uID0gew0KICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSwNCiAgICAgICAgY2hlY2tlZDogdGhpcy5zQ2hlY2tlZA0KICAgICAgfQ0KICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgb3B0aW9uKQ0KICAgICAgY29uc3QgZ3JvdXBDb250ZXh0ID0gdGhpcy5ncm91cENvbnRleHQNCiAgICAgIGlmIChncm91cENvbnRleHQpIHsNCiAgICAgICAgZ3JvdXBDb250ZXh0LmhhbmRsZUNoYW5nZShvcHRpb24pDQogICAgICB9DQogICAgfQ0KICB9LA0KICBjcmVhdGVkICgpIHsNCiAgICBjb25zdCBncm91cENvbnRleHQgPSB0aGlzLmdyb3VwQ29udGV4dA0KICAgIGlmIChncm91cENvbnRleHQpIHsNCiAgICAgIHRoaXMuc0NoZWNrZWQgPSBncm91cENvbnRleHQuZGVmYXVsdFZhbHVlcy5sZW5ndGggPiAwID8gZ3JvdXBDb250ZXh0LmRlZmF1bHRWYWx1ZXMuaW5kZXhPZih0aGlzLnZhbHVlKSA+PSAwIDogdGhpcy5zQ2hlY2tlZA0KICAgICAgZ3JvdXBDb250ZXh0Lm9wdGlvbnMucHVzaCh0aGlzKQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHRvZ2dsZSAoKSB7DQogICAgICBpZiAodGhpcy5ncm91cENvbnRleHQubXVsdGlwbGUgfHwgIXRoaXMuc0NoZWNrZWQpIHsNCiAgICAgICAgdGhpcy5zQ2hlY2tlZCA9ICF0aGlzLnNDaGVja2VkDQogICAgICB9DQogICAgfSwNCiAgICBpbml0Q2hlY2tlZCgpIHsNCiAgICAgIGxldCBncm91cENvbnRleHQgPSB0aGlzLmdyb3VwQ29udGV4dA0KICAgICAgaWYgKCFncm91cENvbnRleHQpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tlZA0KICAgICAgfWVsc2UgaWYgKGdyb3VwQ29udGV4dC5tdWx0aXBsZSkgew0KICAgICAgICByZXR1cm4gZ3JvdXBDb250ZXh0LmRlZmF1bHRWYWx1ZXMuaW5kZXhPZih0aGlzLnZhbHVlKSA+IC0xDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gZ3JvdXBDb250ZXh0LmRlZmF1bHRWYWx1ZXNbMF0gPT0gdGhpcy52YWx1ZQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["ImgCheckbox.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImgCheckbox.vue","sourceRoot":"src/components/checkbox","sourcesContent":["<template>\r\n  <a-tooltip :title=\"title\" :overlayStyle=\"{zIndex: 2001}\">\r\n    <div class=\"img-check-box\" @click=\"toggle\">\r\n      <img :src=\"img\" />\r\n      <div v-if=\"sChecked\" class=\"check-item\">\r\n        <a-icon type=\"check\" />\r\n      </div>\r\n    </div>\r\n  </a-tooltip>\r\n</template>\r\n\r\n<script>\r\nconst Group = {\r\n  name: 'ImgCheckboxGroup',\r\n  props: {\r\n    multiple: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false\r\n    },\r\n    defaultValues: {\r\n      type: Array,\r\n      required: false,\r\n      default: () => []\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      values: [],\r\n      options: []\r\n    }\r\n  },\r\n  provide () {\r\n    return {\r\n      groupContext: this\r\n    }\r\n  },\r\n  watch: {\r\n    'values': function (value) {\r\n      this.$emit('change', value)\r\n      // // 此条件是为解决单选时，触发两次chang事件问题\r\n      // if (!(newVal.length === 1 && oldVal.length === 1 && newVal[0] === oldVal[0])) {\r\n      //   this.$emit('change', this.values)\r\n      // }\r\n    }\r\n  },\r\n  methods: {\r\n    handleChange (option) {\r\n      if (!option.checked) {\r\n        if (this.values.indexOf(option.value) > -1) {\r\n          this.values = this.values.filter(item => item != option.value)\r\n        }\r\n      } else {\r\n        if (!this.multiple) {\r\n          this.values = [option.value]\r\n          this.options.forEach(item => {\r\n            if (item.value != option.value) {\r\n              item.sChecked = false\r\n            }\r\n          })\r\n        } else {\r\n          this.values.push(option.value)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  render (h) {\r\n    return h(\r\n      'div',\r\n      {\r\n        attrs: {style: 'display: flex'}\r\n      },\r\n      [this.$slots.default]\r\n    )\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'ImgCheckbox',\r\n  Group,\r\n  props: {\r\n    checked: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false\r\n    },\r\n    img: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    value: {\r\n      required: true\r\n    },\r\n    title: String\r\n  },\r\n  data () {\r\n    return {\r\n      sChecked: this.initChecked()\r\n    }\r\n  },\r\n  inject: ['groupContext'],\r\n  watch: {\r\n    'sChecked': function () {\r\n      const option = {\r\n        value: this.value,\r\n        checked: this.sChecked\r\n      }\r\n      this.$emit('change', option)\r\n      const groupContext = this.groupContext\r\n      if (groupContext) {\r\n        groupContext.handleChange(option)\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    const groupContext = this.groupContext\r\n    if (groupContext) {\r\n      this.sChecked = groupContext.defaultValues.length > 0 ? groupContext.defaultValues.indexOf(this.value) >= 0 : this.sChecked\r\n      groupContext.options.push(this)\r\n    }\r\n  },\r\n  methods: {\r\n    toggle () {\r\n      if (this.groupContext.multiple || !this.sChecked) {\r\n        this.sChecked = !this.sChecked\r\n      }\r\n    },\r\n    initChecked() {\r\n      let groupContext = this.groupContext\r\n      if (!groupContext) {\r\n        return this.checked\r\n      }else if (groupContext.multiple) {\r\n        return groupContext.defaultValues.indexOf(this.value) > -1\r\n      } else {\r\n        return groupContext.defaultValues[0] == this.value\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .img-check-box{\r\n    margin-right: 16px;\r\n    position: relative;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    .check-item{\r\n      position: absolute;\r\n      top: 0;\r\n      right: 0;\r\n      width: 100%;\r\n      padding-top: 15px;\r\n      padding-left: 24px;\r\n      height: 100%;\r\n      color: @primary-color;\r\n      font-size: 14px;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n</style>\r\n"]}]}