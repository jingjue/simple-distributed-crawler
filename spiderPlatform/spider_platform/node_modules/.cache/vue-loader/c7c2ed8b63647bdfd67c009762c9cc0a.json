{"remainingRequest":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Project\\spiderPlatform\\spider_platform\\src\\components\\checkbox\\ColorCheckbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Project\\spiderPlatform\\spider_platform\\src\\components\\checkbox\\ColorCheckbox.vue","mtime":1646988546801},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1646988157969},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1646988174758}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KDQpjb25zdCBHcm91cCA9IHsNCiAgbmFtZTogJ0NvbG9yQ2hlY2tib3hHcm91cCcsDQogIHByb3BzOiB7DQogICAgZGVmYXVsdFZhbHVlczogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICBkZWZhdWx0OiAoKSA9PiBbXQ0KICAgIH0sDQogICAgbXVsdGlwbGU6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHZhbHVlczogW10sDQogICAgICBvcHRpb25zOiBbXQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBjb2xvcnMgKCkgew0KICAgICAgbGV0IGNvbG9ycyA9IFtdDQogICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgaWYgKGl0ZW0uc0NoZWNrZWQpIHsNCiAgICAgICAgICBjb2xvcnMucHVzaChpdGVtLmNvbG9yKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgcmV0dXJuIGNvbG9ycw0KICAgIH0NCiAgfSwNCiAgcHJvdmlkZSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGdyb3VwQ29udGV4dDogdGhpcw0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICB2YWx1ZXModmFsdWUpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHZhbHVlLCB0aGlzLmNvbG9ycykNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBoYW5kbGVDaGFuZ2UgKG9wdGlvbikgew0KICAgICAgaWYgKCFvcHRpb24uY2hlY2tlZCkgew0KICAgICAgICBpZiAodGhpcy52YWx1ZXMuaW5kZXhPZihvcHRpb24udmFsdWUpID4gLTEpIHsNCiAgICAgICAgICB0aGlzLnZhbHVlcyA9IHRoaXMudmFsdWVzLmZpbHRlcihpdGVtID0+IGl0ZW0gIT0gb3B0aW9uLnZhbHVlKQ0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBpZiAoIXRoaXMubXVsdGlwbGUpIHsNCiAgICAgICAgICB0aGlzLnZhbHVlcyA9IFtvcHRpb24udmFsdWVdDQogICAgICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICBpZiAoaXRlbS52YWx1ZSAhPSBvcHRpb24udmFsdWUpIHsNCiAgICAgICAgICAgICAgaXRlbS5zQ2hlY2tlZCA9IGZhbHNlDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLnZhbHVlcy5wdXNoKG9wdGlvbi52YWx1ZSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgcmVuZGVyIChoKSB7DQogICAgY29uc3QgY2xlYXIgPSBoKCdkaXYnLCB7YXR0cnM6IHtzdHlsZTogJ2NsZWFyOiBib3RoJ319KQ0KICAgIHJldHVybiBoKA0KICAgICAgJ2RpdicsDQogICAgICB7fSwNCiAgICAgIFt0aGlzLiRzbG90cy5kZWZhdWx0LCBjbGVhcl0NCiAgICApDQogIH0NCn0NCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnQ29sb3JDaGVja2JveCcsDQogIEdyb3VwOiBHcm91cCwNCiAgcHJvcHM6IHsNCiAgICBjb2xvcjogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgcmVxdWlyZWQ6IHRydWUNCiAgICB9LA0KICAgIHZhbHVlOiB7DQogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLA0KICAgICAgcmVxdWlyZWQ6IHRydWUNCiAgICB9LA0KICAgIGNoZWNrZWQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHNDaGVja2VkOiB0aGlzLmluaXRDaGVja2VkKCkNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogIH0sDQogIGluamVjdDogWydncm91cENvbnRleHQnXSwNCiAgd2F0Y2g6IHsNCiAgICAnc0NoZWNrZWQnOiBmdW5jdGlvbiAoKSB7DQogICAgICBjb25zdCB2YWx1ZSA9IHsNCiAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsDQogICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLA0KICAgICAgICBjaGVja2VkOiB0aGlzLnNDaGVja2VkDQogICAgICB9DQogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB2YWx1ZSkNCiAgICAgIGNvbnN0IGdyb3VwQ29udGV4dCA9IHRoaXMuZ3JvdXBDb250ZXh0DQogICAgICBpZiAoZ3JvdXBDb250ZXh0KSB7DQogICAgICAgIGdyb3VwQ29udGV4dC5oYW5kbGVDaGFuZ2UodmFsdWUpDQogICAgICB9DQogICAgfQ0KICB9LA0KICBjcmVhdGVkICgpIHsNCiAgICBjb25zdCBncm91cENvbnRleHQgPSB0aGlzLmdyb3VwQ29udGV4dA0KICAgIGlmIChncm91cENvbnRleHQpIHsNCiAgICAgIGdyb3VwQ29udGV4dC5vcHRpb25zLnB1c2godGhpcykNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB0b2dnbGUgKCkgew0KICAgICAgaWYgKHRoaXMuZ3JvdXBDb250ZXh0Lm11bHRpcGxlIHx8ICF0aGlzLnNDaGVja2VkKSB7DQogICAgICAgIHRoaXMuc0NoZWNrZWQgPSAhdGhpcy5zQ2hlY2tlZA0KICAgICAgfQ0KICAgIH0sDQogICAgaW5pdENoZWNrZWQoKSB7DQogICAgICBsZXQgZ3JvdXBDb250ZXh0ID0gdGhpcy5ncm91cENvbnRleHQNCiAgICAgIGlmICghZ3JvdXBDb250ZXh0KSB7DQogICAgICAgIHJldHVybiB0aGlzLmNoZWNrZWQNCiAgICAgIH1lbHNlIGlmIChncm91cENvbnRleHQubXVsdGlwbGUpIHsNCiAgICAgICAgcmV0dXJuIGdyb3VwQ29udGV4dC5kZWZhdWx0VmFsdWVzLmluZGV4T2YodGhpcy52YWx1ZSkgPiAtMQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIGdyb3VwQ29udGV4dC5kZWZhdWx0VmFsdWVzWzBdID09IHRoaXMudmFsdWUNCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["ColorCheckbox.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ColorCheckbox.vue","sourceRoot":"src/components/checkbox","sourcesContent":["<template>\r\n  <div class=\"theme-color\" :style=\"{backgroundColor: color}\" @click=\"toggle\">\r\n    <a-icon v-if=\"sChecked\" type=\"check\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst Group = {\r\n  name: 'ColorCheckboxGroup',\r\n  props: {\r\n    defaultValues: {\r\n      type: Array,\r\n      required: false,\r\n      default: () => []\r\n    },\r\n    multiple: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      values: [],\r\n      options: []\r\n    }\r\n  },\r\n  computed: {\r\n    colors () {\r\n      let colors = []\r\n      this.options.forEach(item => {\r\n        if (item.sChecked) {\r\n          colors.push(item.color)\r\n        }\r\n      })\r\n      return colors\r\n    }\r\n  },\r\n  provide () {\r\n    return {\r\n      groupContext: this\r\n    }\r\n  },\r\n  watch: {\r\n    values(value) {\r\n      this.$emit('change', value, this.colors)\r\n    }\r\n  },\r\n  methods: {\r\n    handleChange (option) {\r\n      if (!option.checked) {\r\n        if (this.values.indexOf(option.value) > -1) {\r\n          this.values = this.values.filter(item => item != option.value)\r\n        }\r\n      } else {\r\n        if (!this.multiple) {\r\n          this.values = [option.value]\r\n          this.options.forEach(item => {\r\n            if (item.value != option.value) {\r\n              item.sChecked = false\r\n            }\r\n          })\r\n        } else {\r\n          this.values.push(option.value)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  render (h) {\r\n    const clear = h('div', {attrs: {style: 'clear: both'}})\r\n    return h(\r\n      'div',\r\n      {},\r\n      [this.$slots.default, clear]\r\n    )\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'ColorCheckbox',\r\n  Group: Group,\r\n  props: {\r\n    color: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    value: {\r\n      type: [String, Number],\r\n      required: true\r\n    },\r\n    checked: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      sChecked: this.initChecked()\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  inject: ['groupContext'],\r\n  watch: {\r\n    'sChecked': function () {\r\n      const value = {\r\n        value: this.value,\r\n        color: this.color,\r\n        checked: this.sChecked\r\n      }\r\n      this.$emit('change', value)\r\n      const groupContext = this.groupContext\r\n      if (groupContext) {\r\n        groupContext.handleChange(value)\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    const groupContext = this.groupContext\r\n    if (groupContext) {\r\n      groupContext.options.push(this)\r\n    }\r\n  },\r\n  methods: {\r\n    toggle () {\r\n      if (this.groupContext.multiple || !this.sChecked) {\r\n        this.sChecked = !this.sChecked\r\n      }\r\n    },\r\n    initChecked() {\r\n      let groupContext = this.groupContext\r\n      if (!groupContext) {\r\n        return this.checked\r\n      }else if (groupContext.multiple) {\r\n        return groupContext.defaultValues.indexOf(this.value) > -1\r\n      } else {\r\n        return groupContext.defaultValues[0] == this.value\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .theme-color{\r\n    float: left;\r\n    width: 20px;\r\n    height: 20px;\r\n    border-radius: 2px;\r\n    cursor: pointer;\r\n    margin-right: 8px;\r\n    text-align: center;\r\n    color: @base-bg-color;\r\n    font-weight: bold;\r\n  }\r\n</style>\r\n"]}]}