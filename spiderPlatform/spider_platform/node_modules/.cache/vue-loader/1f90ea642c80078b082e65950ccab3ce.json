{"remainingRequest":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Project\\spiderPlatform\\spider_platform\\src\\layouts\\tabs\\TabsHead.vue?vue&type=style&index=0&id=7764e280&scoped=true&lang=less&","dependencies":[{"path":"D:\\Project\\spiderPlatform\\spider_platform\\src\\layouts\\tabs\\TabsHead.vue","mtime":1646988546854},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\css-loader\\dist\\cjs.js","mtime":1646988174237},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1646988174758},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\postcss-loader\\src\\index.js","mtime":1646988174629},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\less-loader\\dist\\cjs.js","mtime":1646988186378},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\style-resources-loader\\lib\\index.js","mtime":1646988186714},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646988157970},{"path":"D:\\Project\\spiderPlatform\\spider_platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1646988174758}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi50YWJ7CiAgbWFyZ2luOiAwIC0xNnB4OwogIHBhZGRpbmc6IDAgMTZweDsKICBmb250LXNpemU6IDE0cHg7CiAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgdHJhbnNpdGlvbjogYWxsIDAuMnM7CiAgLnRpdGxlewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgaGVpZ2h0OiAxMDAlOwogIH0KICAuaWNvbi1jbG9zZXsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIG1hcmdpbi1sZWZ0OiA2cHg7CiAgICBtYXJnaW4tcmlnaHQ6IC00cHggIWltcG9ydGFudDsKICAgIGNvbG9yOiBAdGV4dC1jb2xvci1zZWNvbmQ7CiAgICAmOmhvdmVyewogICAgICBjb2xvcjogQHRleHQtY29sb3I7CiAgICB9CiAgfQogIC5pY29uLXN5bmN7CiAgICBtYXJnaW4tbGVmdDogLTRweDsKICAgIGNvbG9yOiBAcHJpbWFyeS00OwogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZS1pbi1vdXQ7CiAgICAmOmhvdmVyewogICAgICBjb2xvcjogQHByaW1hcnktY29sb3I7CiAgICB9CiAgICBmb250LXNpemU6IDE0cHg7CiAgICAmLmhpZGV7CiAgICAgIGZvbnQtc2l6ZTogMDsKICAgIH0KICB9Cn0KLnRhYnMtaGVhZHsKICBtYXJnaW46IDAgYXV0bzsKICAmLmhlYWQuZml4ZWR7CiAgICB3aWR0aDogMTQwMHB4OwogIH0KfQoudGFicy1jb250YWluZXJ7CiAgbWFyZ2luOiAtMTZweCBhdXRvIDhweDsKICB0cmFuc2l0aW9uOiB0b3AsbGVmdCAwLjJzOwogIC5oZWFkZXItbG9ja3sKICAgIGZvbnQtc2l6ZTogMThweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIGNvbG9yOiBAcHJpbWFyeS0zOwogICAgJjpob3ZlcnsKICAgICAgY29sb3I6IEBwcmltYXJ5LWNvbG9yOwogICAgfQogIH0KICAmLmFmZml4ZWR7CiAgICBtYXJnaW46IDAgYXV0bzsKICAgIHRvcDogMHB4OwogICAgcGFkZGluZzogOHB4IDI0cHggMDsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIGhlaWdodDogNDhweDsKICAgIHotaW5kZXg6IDE7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBAbGF5b3V0LWJvZHktYmFja2dyb3VuZDsKICAgICYuc2lkZSwmLm1peHsKICAgICAgcmlnaHQ6IDA7CiAgICAgIGxlZnQ6IDI1NnB4OwogICAgICAmLmNvbGxhcHNlZHsKICAgICAgICBsZWZ0OiA4MHB4OwogICAgICB9CiAgICB9CiAgICAmLmhlYWR7CiAgICAgIHdpZHRoOiBpbmhlcml0OwogICAgICBwYWRkaW5nOiA4cHggMCAwOwogICAgICAmLmZsdWlkewogICAgICAgIGxlZnQ6IDA7CiAgICAgICAgcmlnaHQ6IDA7CiAgICAgICAgcGFkZGluZzogOHB4IDI0cHggMDsKICAgICAgfQogICAgfQogICAgJi5maXhlZC1oZWFkZXJ7CiAgICAgIHRvcDogNjRweDsKICAgIH0KICB9Cn0KLnZpcnR1YWwtdGFic3sKICBoZWlnaHQ6IDQ4cHg7Cn0K"},{"version":3,"sources":["TabsHead.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TabsHead.vue","sourceRoot":"src/layouts/tabs","sourcesContent":["<template>\r\n  <div :class=\"['tabs-head', layout, pageWidth]\">\r\n    <a-tabs\r\n        type=\"editable-card\"\r\n        :class=\"['tabs-container', layout, pageWidth, {'affixed' : affixed, 'fixed-header' : fixedHeader, 'collapsed' : adminLayout.collapsed}]\"\r\n        :active-key=\"active\"\r\n        :hide-add=\"true\"\r\n    >\r\n      <a-tooltip placement=\"left\" :title=\"lockTitle\" slot=\"tabBarExtraContent\">\r\n        <a-icon\r\n            theme=\"filled\"\r\n            @click=\"onLockClick\"\r\n            class=\"header-lock\"\r\n            :type=\"fixedTabs ? 'lock' : 'unlock'\"\r\n        />\r\n      </a-tooltip>\r\n      <a-tab-pane v-for=\"page in pageList\" :key=\"page.path\">\r\n        <div slot=\"tab\" class=\"tab\" @contextmenu=\"e => onContextmenu(page.path, e)\">\r\n          <a-icon @click=\"onRefresh(page)\" :class=\"['icon-sync', {'hide': page.path !== active && !page.loading}]\" :type=\"page.loading ? 'loading' : 'sync'\" />\r\n          <div class=\"title\" @click=\"onTabClick(page.path)\" >{{pageName(page)}}</div>\r\n          <a-icon v-if=\"!page.unclose\" @click=\"onClose(page.path)\" class=\"icon-close\" type=\"close\"/>\r\n        </div>\r\n      </a-tab-pane>\r\n    </a-tabs>\r\n    <div v-if=\"affixed\" class=\"virtual-tabs\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapState, mapMutations} from 'vuex'\r\n  import {getI18nKey} from '@/utils/routerUtil'\r\n\r\n  export default {\r\n    name: 'TabsHead',\r\n    i18n: {\r\n      messages: {\r\n        CN: {\r\n          lock: '点击锁定页签头',\r\n          unlock: '点击解除锁定',\r\n        },\r\n        HK: {\r\n          lock: '點擊鎖定頁簽頭',\r\n          unlock: '點擊解除鎖定',\r\n        },\r\n        US: {\r\n          lock: 'click to lock the tabs head',\r\n          unlock: 'click to unlock',\r\n        }\r\n      }\r\n    },\r\n    props: {\r\n      pageList: Array,\r\n      active: String,\r\n      fixed: Boolean\r\n    },\r\n    data() {\r\n      return {\r\n        affixed: false,\r\n      }\r\n    },\r\n    inject:['adminLayout'],\r\n    created() {\r\n      this.affixed = this.fixedTabs\r\n    },\r\n    computed: {\r\n      ...mapState('setting', ['layout', 'pageWidth', 'fixedHeader', 'fixedTabs', 'customTitles']),\r\n      lockTitle() {\r\n        return this.$t(this.fixedTabs ? 'unlock' : 'lock')\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations('setting', ['setFixedTabs']),\r\n      onLockClick() {\r\n        this.setFixedTabs(!this.fixedTabs)\r\n        if (this.fixedTabs) {\r\n          setTimeout(() => {\r\n            this.affixed = true\r\n          }, 200)\r\n        } else {\r\n          this.affixed = false\r\n        }\r\n      },\r\n      onTabClick(key) {\r\n        if (this.active !== key) {\r\n          this.$emit('change', key)\r\n        }\r\n      },\r\n      onClose(key) {\r\n        this.$emit('close', key)\r\n      },\r\n      onRefresh(page) {\r\n        this.$emit('refresh', page.path, page)\r\n      },\r\n      onContextmenu(pageKey, e) {\r\n        this.$emit('contextmenu', pageKey, e)\r\n      },\r\n      pageName(page) {\r\n        const pagePath = page.fullPath.split('?')[0]\r\n        const custom = this.customTitles.find(item => item.path === pagePath)\r\n        return (custom && custom.title) || page.title || this.$t(getI18nKey(page.keyPath))\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  .tab{\r\n    margin: 0 -16px;\r\n    padding: 0 16px;\r\n    font-size: 14px;\r\n    user-select: none;\r\n    transition: all 0.2s;\r\n    .title{\r\n      display: inline-block;\r\n      height: 100%;\r\n    }\r\n    .icon-close{\r\n      font-size: 12px;\r\n      margin-left: 6px;\r\n      margin-right: -4px !important;\r\n      color: @text-color-second;\r\n      &:hover{\r\n        color: @text-color;\r\n      }\r\n    }\r\n    .icon-sync{\r\n      margin-left: -4px;\r\n      color: @primary-4;\r\n      transition: all 0.3s ease-in-out;\r\n      &:hover{\r\n        color: @primary-color;\r\n      }\r\n      font-size: 14px;\r\n      &.hide{\r\n        font-size: 0;\r\n      }\r\n    }\r\n  }\r\n  .tabs-head{\r\n    margin: 0 auto;\r\n    &.head.fixed{\r\n      width: 1400px;\r\n    }\r\n  }\r\n  .tabs-container{\r\n    margin: -16px auto 8px;\r\n    transition: top,left 0.2s;\r\n    .header-lock{\r\n      font-size: 18px;\r\n      cursor: pointer;\r\n      color: @primary-3;\r\n      &:hover{\r\n        color: @primary-color;\r\n      }\r\n    }\r\n    &.affixed{\r\n      margin: 0 auto;\r\n      top: 0px;\r\n      padding: 8px 24px 0;\r\n      position: fixed;\r\n      height: 48px;\r\n      z-index: 1;\r\n      background-color: @layout-body-background;\r\n      &.side,&.mix{\r\n        right: 0;\r\n        left: 256px;\r\n        &.collapsed{\r\n          left: 80px;\r\n        }\r\n      }\r\n      &.head{\r\n        width: inherit;\r\n        padding: 8px 0 0;\r\n        &.fluid{\r\n          left: 0;\r\n          right: 0;\r\n          padding: 8px 24px 0;\r\n        }\r\n      }\r\n      &.fixed-header{\r\n        top: 64px;\r\n      }\r\n    }\r\n  }\r\n  .virtual-tabs{\r\n    height: 48px;\r\n  }\r\n</style>\r\n"]}]}