2022-05-12 06:43:08.894 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1771, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f4662aca310>
    │    └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x7f4571549cd0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f4252092790>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 717, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'ip': '180.201.163.246', 'username': 'chase', 'password': '30046456427916832184755604967703584737136097928278180071346264281...
    │      │       └ 'UPDATE device SET ip=%(ip)s, username=%(username)s, password=%(password)s, address=%(address)s, port=%(port)s, valid=%(valid...
    │      └ <function Cursor.execute at 0x7f466218bdc0>
    └ <pymysql.cursors.Cursor object at 0x7f4267c4b3d0>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/cursors.py", line 148, in execute
    result = self._query(query)
             │    │      └ "UPDATE device SET ip='180.201.163.246', username='chase', password='30046456427916832184755604967703584737136097928278180071...
             │    └ <function Cursor._query at 0x7f4662194280>
             └ <pymysql.cursors.Cursor object at 0x7f4267c4b3d0>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/cursors.py", line 310, in _query
    conn.query(q)
    │    │     └ "UPDATE device SET ip='180.201.163.246', username='chase', password='30046456427916832184755604967703584737136097928278180071...
    │    └ <function Connection.query at 0x7f46621a85e0>
    └ <pymysql.connections.Connection object at 0x7f44f56ea2e0>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/connections.py", line 548, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
    │    │                │    │                             └ False
    │    │                │    └ <function Connection._read_query_result at 0x7f46621a8c10>
    │    │                └ <pymysql.connections.Connection object at 0x7f44f56ea2e0>
    │    └ 1
    └ <pymysql.connections.Connection object at 0x7f44f56ea2e0>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/connections.py", line 775, in _read_query_result
    result.read()
    │      └ <function MySQLResult.read at 0x7f46621a9430>
    └ <pymysql.connections.MySQLResult object at 0x7f42f1936af0>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/connections.py", line 1156, in read
    first_packet = self.connection._read_packet()
                   │    └ None
                   └ <pymysql.connections.MySQLResult object at 0x7f42f1936af0>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/connections.py", line 725, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x7f466219dee0>
    └ <pymysql.protocol.MysqlPacket object at 0x7f43a5048970>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x7f43a5048970>
    │   └ <function raise_mysql_exception at 0x7f46626e0e50>
    └ <module 'pymysql.err' from '/home/chase/.local/lib/python3.8/site-packages/pymysql/err.py'>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ 'Lock wait timeout exceeded; try restarting transaction'
          │          └ 1205
          └ <class 'pymysql.err.OperationalError'>

pymysql.err.OperationalError: (1205, 'Lock wait timeout exceeded; try restarting transaction')


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10839, started daemon 139935998797568)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10839, started daemon 139935998797568)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10839, started daemon 139935998797568)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10839, started daemon 139935998797568)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10839, started daemon 139935998797568)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 374, in update
    row.update(new)
    │   │      └ {'ip': '180.201.163.246', 'username': 'chase', 'password': '30046456427916832184755604967703584737136097928278180071346264281...
    │   └ <function Query.update at 0x7f466290e0d0>
    └ <sqlalchemy.orm.query.Query object at 0x7f44f569dc40>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3221, in update
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f452a70d760>
             └ <sqlalchemy.orm.query.Query object at 0x7f44f569dc40>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1689, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'synchronize_session': 'evaluate', '_sa_orm_update_options': default_update_options(_matched_objects=[], _reso...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.annotation.AnnotatedUpdate object at 0x7f4545fc8700>
             │    └ <function Connection._execute_20 at 0x7f4662b8c4c0>
             └ <sqlalchemy.engine.base.Connection object at 0x7f4252092790>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1583, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'synchronize_session': 'evaluate', '_sa_orm_update_options': default_update_options(_matched_objects=[], _reso...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7f4252092790>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.annotation.AnnotatedUpdate object at 0x7f4545fc8700>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 323, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f4662b8c310>
           └ <sqlalchemy.engine.base.Connection object at 0x7f4252092790>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1452, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f4662b8c5e0>
          └ <sqlalchemy.engine.base.Connection object at 0x7f4252092790>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1814, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f4662b8c790>
    └ <sqlalchemy.engine.base.Connection object at 0x7f4252092790>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1995, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7f466308c820>
    └ <module 'sqlalchemy.util' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1771, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f4662aca310>
    │    └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x7f4571549cd0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f4252092790>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 717, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'ip': '180.201.163.246', 'username': 'chase', 'password': '30046456427916832184755604967703584737136097928278180071346264281...
    │      │       └ 'UPDATE device SET ip=%(ip)s, username=%(username)s, password=%(password)s, address=%(address)s, port=%(port)s, valid=%(valid...
    │      └ <function Cursor.execute at 0x7f466218bdc0>
    └ <pymysql.cursors.Cursor object at 0x7f4267c4b3d0>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/cursors.py", line 148, in execute
    result = self._query(query)
             │    │      └ "UPDATE device SET ip='180.201.163.246', username='chase', password='30046456427916832184755604967703584737136097928278180071...
             │    └ <function Cursor._query at 0x7f4662194280>
             └ <pymysql.cursors.Cursor object at 0x7f4267c4b3d0>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/cursors.py", line 310, in _query
    conn.query(q)
    │    │     └ "UPDATE device SET ip='180.201.163.246', username='chase', password='30046456427916832184755604967703584737136097928278180071...
    │    └ <function Connection.query at 0x7f46621a85e0>
    └ <pymysql.connections.Connection object at 0x7f44f56ea2e0>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/connections.py", line 548, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
    │    │                │    │                             └ False
    │    │                │    └ <function Connection._read_query_result at 0x7f46621a8c10>
    │    │                └ <pymysql.connections.Connection object at 0x7f44f56ea2e0>
    │    └ 1
    └ <pymysql.connections.Connection object at 0x7f44f56ea2e0>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/connections.py", line 775, in _read_query_result
    result.read()
    │      └ <function MySQLResult.read at 0x7f46621a9430>
    └ <pymysql.connections.MySQLResult object at 0x7f42f1936af0>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/connections.py", line 1156, in read
    first_packet = self.connection._read_packet()
                   │    └ None
                   └ <pymysql.connections.MySQLResult object at 0x7f42f1936af0>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/connections.py", line 725, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x7f466219dee0>
    └ <pymysql.protocol.MysqlPacket object at 0x7f43a5048970>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x7f43a5048970>
    │   └ <function raise_mysql_exception at 0x7f46626e0e50>
    └ <module 'pymysql.err' from '/home/chase/.local/lib/python3.8/site-packages/pymysql/err.py'>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ 'Lock wait timeout exceeded; try restarting transaction'
          │          └ 1205
          └ <class 'pymysql.err.OperationalError'>

sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (1205, 'Lock wait timeout exceeded; try restarting transaction')
[SQL: UPDATE device SET ip=%(ip)s, username=%(username)s, password=%(password)s, address=%(address)s, port=%(port)s, valid=%(valid)s WHERE device.ip = %(ip_1)s]
[parameters: {'ip': '180.201.163.246', 'username': 'chase', 'password': '30046456427916832184755604967703584737136097928278180071346264281599012113431854403588788820432028948308253931126802237487575831935011741451585783269 ... (10 characters truncated) ... 13600581831943202471956196238672123756445636761822052402125610625170166106727802740916058850657606051378487445894309687443318567883844231514130680647', 'address': '/home/users/CT/pycharmproject/spiders/', 'port': 6800, 'valid': 1, 'ip_1': '180.201.163.246'}]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
2022-05-12 06:43:16.459 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10857, started daemon 139935967065856)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10857, started daemon 139935967065856)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10857, started daemon 139935967065856)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10857, started daemon 139935967065856)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10857, started daemon 139935967065856)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f44f569d9a0>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f44f569d9a0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f44f56eac40>
             └ <sqlalchemy.orm.query.Query object at 0x7f44f569d9a0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f44f56eac40>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f44f569dd30>
           └ <sqlalchemy.orm.session.Session object at 0x7f44f56eac40>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:43:55.888 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10867, started daemon 139935499929344)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10867, started daemon 139935499929344)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10867, started daemon 139935499929344)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10867, started daemon 139935499929344)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10867, started daemon 139935499929344)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f44f569dd60>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f44f569dd60>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f4371c94460>
             └ <sqlalchemy.orm.query.Query object at 0x7f44f569dd60>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f4371c94460>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f44f569d940>
           └ <sqlalchemy.orm.session.Session object at 0x7f4371c94460>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:43:55.893 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1771, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f4662aca310>
    │    └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x7f4571549cd0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f4253993070>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 717, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'ip': '180.201.163.246', 'username': 'chase', 'password': '39794013273368584369723169697040964087006597586637690024342417825...
    │      │       └ 'UPDATE device SET ip=%(ip)s, username=%(username)s, password=%(password)s, address=%(address)s, port=%(port)s, valid=%(valid...
    │      └ <function Cursor.execute at 0x7f466218bdc0>
    └ <pymysql.cursors.Cursor object at 0x7f425694e940>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/cursors.py", line 148, in execute
    result = self._query(query)
             │    │      └ "UPDATE device SET ip='180.201.163.246', username='chase', password='39794013273368584369723169697040964087006597586637690024...
             │    └ <function Cursor._query at 0x7f4662194280>
             └ <pymysql.cursors.Cursor object at 0x7f425694e940>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/cursors.py", line 310, in _query
    conn.query(q)
    │    │     └ "UPDATE device SET ip='180.201.163.246', username='chase', password='39794013273368584369723169697040964087006597586637690024...
    │    └ <function Connection.query at 0x7f46621a85e0>
    └ <pymysql.connections.Connection object at 0x7f43797ee460>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/connections.py", line 548, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
    │    │                │    │                             └ False
    │    │                │    └ <function Connection._read_query_result at 0x7f46621a8c10>
    │    │                └ <pymysql.connections.Connection object at 0x7f43797ee460>
    │    └ 1
    └ <pymysql.connections.Connection object at 0x7f43797ee460>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/connections.py", line 775, in _read_query_result
    result.read()
    │      └ <function MySQLResult.read at 0x7f46621a9430>
    └ <pymysql.connections.MySQLResult object at 0x7f433f46a970>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/connections.py", line 1156, in read
    first_packet = self.connection._read_packet()
                   │    └ None
                   └ <pymysql.connections.MySQLResult object at 0x7f433f46a970>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/connections.py", line 725, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x7f466219dee0>
    └ <pymysql.protocol.MysqlPacket object at 0x7f4321d4f640>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x7f4321d4f640>
    │   └ <function raise_mysql_exception at 0x7f46626e0e50>
    └ <module 'pymysql.err' from '/home/chase/.local/lib/python3.8/site-packages/pymysql/err.py'>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ 'Lock wait timeout exceeded; try restarting transaction'
          │          └ 1205
          └ <class 'pymysql.err.OperationalError'>

pymysql.err.OperationalError: (1205, 'Lock wait timeout exceeded; try restarting transaction')


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10848, started daemon 139935537428224)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10848, started daemon 139935537428224)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10848, started daemon 139935537428224)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10848, started daemon 139935537428224)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10848, started daemon 139935537428224)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 374, in update
    row.update(new)
    │   │      └ {'ip': '180.201.163.246', 'username': 'chase', 'password': '39794013273368584369723169697040964087006597586637690024342417825...
    │   └ <function Query.update at 0x7f466290e0d0>
    └ <sqlalchemy.orm.query.Query object at 0x7f42c9ca0310>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3221, in update
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f42b8efc970>
             └ <sqlalchemy.orm.query.Query object at 0x7f42c9ca0310>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1689, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'synchronize_session': 'evaluate', '_sa_orm_update_options': default_update_options(_matched_objects=[], _reso...
             │    │           │          └ immutabledict({})
             │    │           └ <sqlalchemy.sql.annotation.AnnotatedUpdate object at 0x7f4388349d00>
             │    └ <function Connection._execute_20 at 0x7f4662b8c4c0>
             └ <sqlalchemy.engine.base.Connection object at 0x7f4253993070>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1583, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'synchronize_session': 'evaluate', '_sa_orm_update_options': default_update_options(_matched_objects=[], _reso...
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.engine.base.Connection object at 0x7f4253993070>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.annotation.AnnotatedUpdate object at 0x7f4388349d00>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 323, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f4662b8c310>
           └ <sqlalchemy.engine.base.Connection object at 0x7f4253993070>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1452, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f4662b8c5e0>
          └ <sqlalchemy.engine.base.Connection object at 0x7f4253993070>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1814, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f4662b8c790>
    └ <sqlalchemy.engine.base.Connection object at 0x7f4253993070>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1995, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x7f466308c820>
    └ <module 'sqlalchemy.util' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/util/__init__.py'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1771, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f4662aca310>
    │    └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x7f4571549cd0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f4253993070>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 717, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'ip': '180.201.163.246', 'username': 'chase', 'password': '39794013273368584369723169697040964087006597586637690024342417825...
    │      │       └ 'UPDATE device SET ip=%(ip)s, username=%(username)s, password=%(password)s, address=%(address)s, port=%(port)s, valid=%(valid...
    │      └ <function Cursor.execute at 0x7f466218bdc0>
    └ <pymysql.cursors.Cursor object at 0x7f425694e940>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/cursors.py", line 148, in execute
    result = self._query(query)
             │    │      └ "UPDATE device SET ip='180.201.163.246', username='chase', password='39794013273368584369723169697040964087006597586637690024...
             │    └ <function Cursor._query at 0x7f4662194280>
             └ <pymysql.cursors.Cursor object at 0x7f425694e940>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/cursors.py", line 310, in _query
    conn.query(q)
    │    │     └ "UPDATE device SET ip='180.201.163.246', username='chase', password='39794013273368584369723169697040964087006597586637690024...
    │    └ <function Connection.query at 0x7f46621a85e0>
    └ <pymysql.connections.Connection object at 0x7f43797ee460>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/connections.py", line 548, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
    │    │                │    │                             └ False
    │    │                │    └ <function Connection._read_query_result at 0x7f46621a8c10>
    │    │                └ <pymysql.connections.Connection object at 0x7f43797ee460>
    │    └ 1
    └ <pymysql.connections.Connection object at 0x7f43797ee460>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/connections.py", line 775, in _read_query_result
    result.read()
    │      └ <function MySQLResult.read at 0x7f46621a9430>
    └ <pymysql.connections.MySQLResult object at 0x7f433f46a970>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/connections.py", line 1156, in read
    first_packet = self.connection._read_packet()
                   │    └ None
                   └ <pymysql.connections.MySQLResult object at 0x7f433f46a970>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/connections.py", line 725, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x7f466219dee0>
    └ <pymysql.protocol.MysqlPacket object at 0x7f4321d4f640>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x7f4321d4f640>
    │   └ <function raise_mysql_exception at 0x7f46626e0e50>
    └ <module 'pymysql.err' from '/home/chase/.local/lib/python3.8/site-packages/pymysql/err.py'>
  File "/home/chase/.local/lib/python3.8/site-packages/pymysql/err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ 'Lock wait timeout exceeded; try restarting transaction'
          │          └ 1205
          └ <class 'pymysql.err.OperationalError'>

sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (1205, 'Lock wait timeout exceeded; try restarting transaction')
[SQL: UPDATE device SET ip=%(ip)s, username=%(username)s, password=%(password)s, address=%(address)s, port=%(port)s, valid=%(valid)s WHERE device.ip = %(ip_1)s]
[parameters: {'ip': '180.201.163.246', 'username': 'chase', 'password': '39794013273368584369723169697040964087006597586637690024342417825137692938537349963390087796332215066530862833113477409059505357559440169495636885022 ... (10 characters truncated) ... 49783147489640205339064753380814089684807353216081122811279806236150221590032982763633728046540283016379113185793592357634638350231922491628084701491', 'address': '/home/users/CT/pycharmproject/spiders/', 'port': 6800, 'valid': 1, 'ip_1': '180.201.163.246'}]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
2022-05-12 06:44:30.208 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10875, started daemon 139934665012992)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10875, started daemon 139934665012992)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10875, started daemon 139934665012992)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10875, started daemon 139934665012992)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10875, started daemon 139934665012992)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f437f019d90>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f437f019d90>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f42f74ca640>
             └ <sqlalchemy.orm.query.Query object at 0x7f437f019d90>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f42f74ca640>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f437f019250>
           └ <sqlalchemy.orm.session.Session object at 0x7f42f74ca640>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:45:06.417 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10883, started daemon 139936007190272)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10883, started daemon 139936007190272)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10883, started daemon 139936007190272)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10883, started daemon 139936007190272)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10883, started daemon 139936007190272)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f451123e790>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f451123e790>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f4561cf6910>
             └ <sqlalchemy.orm.query.Query object at 0x7f451123e790>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f4561cf6910>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f451123eac0>
           └ <sqlalchemy.orm.session.Session object at 0x7f4561cf6910>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:45:26.826 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10888, started daemon 139935059273472)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10888, started daemon 139935059273472)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10888, started daemon 139935059273472)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10888, started daemon 139935059273472)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10888, started daemon 139935059273472)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f451123ec70>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f451123ec70>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f42e36d0430>
             └ <sqlalchemy.orm.query.Query object at 0x7f451123ec70>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f42e36d0430>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f451123e250>
           └ <sqlalchemy.orm.session.Session object at 0x7f42e36d0430>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:45:40.567 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10892, started daemon 139934170072832)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10892, started daemon 139934170072832)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10892, started daemon 139934170072832)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10892, started daemon 139934170072832)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10892, started daemon 139934170072832)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f4371c941f0>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f4371c941f0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f4267c4b310>
             └ <sqlalchemy.orm.query.Query object at 0x7f4371c941f0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f4267c4b310>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f4545fc8b50>
           └ <sqlalchemy.orm.session.Session object at 0x7f4267c4b310>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:46:04.053 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10896, started daemon 139935499929344)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10896, started daemon 139935499929344)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10896, started daemon 139935499929344)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10896, started daemon 139935499929344)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10896, started daemon 139935499929344)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f4252092fa0>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f4252092fa0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f4561cf6a60>
             └ <sqlalchemy.orm.query.Query object at 0x7f4252092fa0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f4561cf6a60>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f4252092520>
           └ <sqlalchemy.orm.session.Session object at 0x7f4561cf6a60>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:47:32.185 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10919, started daemon 139934160893696)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10919, started daemon 139934160893696)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10919, started daemon 139934160893696)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10919, started daemon 139934160893696)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10919, started daemon 139934160893696)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f437f817520>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f437f817520>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f437f817670>
             └ <sqlalchemy.orm.query.Query object at 0x7f437f817520>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f437f817670>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f437f817310>
           └ <sqlalchemy.orm.session.Session object at 0x7f437f817670>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:48:08.172 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10928, started daemon 139934665012992)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10928, started daemon 139934665012992)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10928, started daemon 139934665012992)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10928, started daemon 139934665012992)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10928, started daemon 139934665012992)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f45700b32e0>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f45700b32e0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f43797ee490>
             └ <sqlalchemy.orm.query.Query object at 0x7f45700b32e0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f43797ee490>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f45700b3370>
           └ <sqlalchemy.orm.session.Session object at 0x7f43797ee490>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:49:19.187 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10946, started daemon 139935067666176)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10946, started daemon 139935067666176)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10946, started daemon 139935067666176)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10946, started daemon 139935067666176)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10946, started daemon 139935067666176)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f434d3f5f40>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f434d3f5f40>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f42f52cd700>
             └ <sqlalchemy.orm.query.Query object at 0x7f434d3f5f40>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f42f52cd700>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f434d3f50d0>
           └ <sqlalchemy.orm.session.Session object at 0x7f42f52cd700>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:50:11.265 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10958, started daemon 139934630917888)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10958, started daemon 139934630917888)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10958, started daemon 139934630917888)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10958, started daemon 139934630917888)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10958, started daemon 139934630917888)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f4388349850>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f4388349850>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f426d994e50>
             └ <sqlalchemy.orm.query.Query object at 0x7f4388349850>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f426d994e50>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f43883499a0>
           └ <sqlalchemy.orm.session.Session object at 0x7f426d994e50>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:50:28.413 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10962, started daemon 139935529035520)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10962, started daemon 139935529035520)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10962, started daemon 139935529035520)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10962, started daemon 139935529035520)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10962, started daemon 139935529035520)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f434d3f5c40>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f434d3f5c40>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f434d3f5130>
             └ <sqlalchemy.orm.query.Query object at 0x7f434d3f5c40>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f434d3f5130>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f434d3f58b0>
           └ <sqlalchemy.orm.session.Session object at 0x7f434d3f5130>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:51:24.821 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10976, started daemon 139934648227584)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10976, started daemon 139934648227584)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10976, started daemon 139934648227584)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10976, started daemon 139934648227584)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10976, started daemon 139934648227584)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f42f51fcfd0>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f42f51fcfd0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f43797ee9a0>
             └ <sqlalchemy.orm.query.Query object at 0x7f42f51fcfd0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f43797ee9a0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f4378e3a220>
           └ <sqlalchemy.orm.session.Session object at 0x7f43797ee9a0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:51:41.080 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10980, started daemon 139935040390912)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10980, started daemon 139935040390912)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10980, started daemon 139935040390912)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10980, started daemon 139935040390912)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10980, started daemon 139935040390912)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f43a5048580>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f43a5048580>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f43a5048070>
             └ <sqlalchemy.orm.query.Query object at 0x7f43a5048580>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f43a5048070>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f43a50489a0>
           └ <sqlalchemy.orm.session.Session object at 0x7f43a5048070>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:52:38.496 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-10994, started daemon 139935967065856)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-10994, started daemon 139935967065856)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-10994, started daemon 139935967065856)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-10994, started daemon 139935967065856)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-10994, started daemon 139935967065856)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f4388349250>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f4388349250>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f451123e670>
             └ <sqlalchemy.orm.query.Query object at 0x7f4388349250>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f451123e670>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f43883496a0>
           └ <sqlalchemy.orm.session.Session object at 0x7f451123e670>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:53:16.153 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-11003, started daemon 139935050356480)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-11003, started daemon 139935050356480)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-11003, started daemon 139935050356480)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-11003, started daemon 139935050356480)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-11003, started daemon 139935050356480)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f437dfb33d0>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f437dfb33d0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f43620805e0>
             └ <sqlalchemy.orm.query.Query object at 0x7f437dfb33d0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f43620805e0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f437dfb3bb0>
           └ <sqlalchemy.orm.session.Session object at 0x7f43620805e0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:53:46.191 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-11010, started daemon 139935027279616)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-11010, started daemon 139935027279616)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-11010, started daemon 139935027279616)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-11010, started daemon 139935027279616)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-11010, started daemon 139935027279616)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f4321d4f8b0>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f4321d4f8b0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f4321d4fd00>
             └ <sqlalchemy.orm.query.Query object at 0x7f4321d4f8b0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f4321d4fd00>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f4321d4ffd0>
           └ <sqlalchemy.orm.session.Session object at 0x7f4321d4fd00>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:54:05.645 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-11015, started daemon 139935990404864)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-11015, started daemon 139935990404864)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-11015, started daemon 139935990404864)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-11015, started daemon 139935990404864)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-11015, started daemon 139935990404864)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f44ba34d3d0>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f44ba34d3d0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f43a5048760>
             └ <sqlalchemy.orm.query.Query object at 0x7f44ba34d3d0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f43a5048760>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f44ba34df10>
           └ <sqlalchemy.orm.session.Session object at 0x7f43a5048760>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
2022-05-12 06:54:28.123 | ERROR    | base.db.mysql:update:389 - 【mysql更新数据出错】
Traceback (most recent call last):

  File "/usr/lib/python3.8/threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x7f4689341a60>
    └ <Thread(Thread-11020, started daemon 139934138341120)>
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x7f4689341790>
    └ <Thread(Thread-11020, started daemon 139934138341120)>
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(Thread-11020, started daemon 139934138341120)>
    │    │        │    └ ('ProjectManager.run_func_by_thread',)
    │    │        └ <Thread(Thread-11020, started daemon 139934138341120)>
    │    └ <bound method ProjectManager.get_request_from_keywords_hot of <monitor.projectManager.ProjectManager object at 0x7f457182e160>>
    └ <Thread(Thread-11020, started daemon 139934138341120)>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 779, in get_request_from_keywords_hot
    self.start_finished_spider_every_interval(project_names)
    │    │                                    └ ['default']
    │    └ <function ProjectManager.start_finished_spider_every_interval at 0x7f4571552160>
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 764, in start_finished_spider_every_interval
    self[name].start_spider()
    │    └ 'default'
    └ <monitor.projectManager.ProjectManager object at 0x7f457182e160>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 352, in start_spider
    self.update_device_valid(device)
    │    │                   └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    └ <function Project.update_device_valid at 0x7f4571551160>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

  File "/home/users/Scy/yuqing/spider/monitor/projectManager.py", line 404, in update_device_valid
    self.database_manager.mysql.update(Device(**device.to_item()))
    │    │                │     │      │        │      └ <function DeviceC.to_item at 0x7f46621ac1f0>
    │    │                │     │      │        └ <monitor.deviceManager.DeviceC object at 0x7f4571558ee0>
    │    │                │     │      └ <class 'base.db.mysql.Device'>
    │    │                │     └ <function Mysql.update at 0x7f46627c94c0>
    │    │                └ <base.db.mysql.Mysql object at 0x7f4571549e80>
    │    └ <base.db.dbSlot.Slot object at 0x7f4571549940>
    └ <monitor.projectManager.Project object at 0x7f4571558880>

> File "/home/users/Scy/yuqing/spider/base/db/mysql.py", line 372, in update
    if row.all():
       │   └ <function Query.all at 0x7f466290b430>
       └ <sqlalchemy.orm.query.Query object at 0x7f43a179a850>

  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2711, in all
    return self._iter().all()
           │    └ <function Query._iter at 0x7f466290bb80>
           └ <sqlalchemy.orm.query.Query object at 0x7f43a179a850>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2846, in _iter
    result = self.session.execute(
             │    │       └ <function Session.execute at 0x7f46628e4820>
             │    └ <sqlalchemy.orm.session.Session object at 0x7f4244d9fdc0>
             └ <sqlalchemy.orm.query.Query object at 0x7f43a179a850>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1688, in execute
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Session._connection_for_bind at 0x7f46628e4790>
           └ <sqlalchemy.orm.session.Session object at 0x7f4244d9fdc0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1529, in _connection_for_bind
    return self._transaction._connection_for_bind(
           │    │            └ <function SessionTransaction._connection_for_bind at 0x7f46628e33a0>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f43a179a640>
           └ <sqlalchemy.orm.session.Session object at 0x7f4244d9fdc0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7f4662b91d30>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
           │    │               │                       └ False
           │    │               └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
         │      └ <function Engine.raw_connection at 0x7f4662b961f0>
         └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
           │    │                  │    │    │        └ None
           │    │                  │    │    └ <function Pool.connect at 0x7f4662bbd280>
           │    │                  │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │    │                  └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
           │    └ <function Engine._wrap_pool_connect at 0x7f4662b91dc0>
           └ Engine(mysql+pymysql://root:***@180.201.163.246:33061/spider?autocommit=true&charset=utf8)
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
           └ <bound method Pool.connect of <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 307, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
           │                └ <classmethod object at 0x7f4662bba490>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 767, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
            │                 └ <classmethod object at 0x7f4662bba430>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/base.py", line 425, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7f4662b52700>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7f4571549ee0>
  File "/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/pool/impl.py", line 134, in _do_get
    raise exc.TimeoutError(
          │   └ <class 'sqlalchemy.exc.TimeoutError'>
          └ <module 'sqlalchemy.exc' from '/home/chase/.local/lib/python3.8/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 10 reached, connection timed out, timeout 30.00 (Background on this error at: https://sqlalche.me/e/14/3o7r)
